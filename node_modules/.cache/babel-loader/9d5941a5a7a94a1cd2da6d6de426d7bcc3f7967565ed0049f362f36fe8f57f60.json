{"ast":null,"code":"import _objectSpread from\"/home/miraculix/coffee-tracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{Plus,Coffee,Star,Search,Trash2,Edit3,Calendar,Percent,ExternalLink,BarChart3,Moon,Sun,Download,Upload,FileText,RefreshCw,RotateCcw,Copy,ChevronDown,ChevronUp,Check}from'lucide-react';import{LineChart,Line,BarChart,Bar,RadarChart,PolarGrid,PolarAngleAxis,PolarRadiusAxis,Radar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,PieChart,Pie,Cell}from'recharts';import jsPDF from'jspdf';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CoffeeTracker=()=>{const[coffees,setCoffees]=useState([]);const[showAddForm,setShowAddForm]=useState(false);const[editingCoffee,setEditingCoffee]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[filterFavorites,setFilterFavorites]=useState(false);const[sortBy,setSortBy]=useState('date');const[darkMode,setDarkMode]=useState(true);const[showAnalytics,setShowAnalytics]=useState(false);const[selectedCoffeeForRadar,setSelectedCoffeeForRadar]=useState(null);const[collapsedRoasters,setCollapsedRoasters]=useState(()=>{const saved=localStorage.getItem('collapsedRoasters');return saved?JSON.parse(saved):{};});const fileInputRef=useRef(null);const formRef=useRef(null);// Brewing methods\nconst brewingMethods=[{id:'espresso',name:'Espresso/Portafilter (Siebtr√§ger)',icon:'‚òï'},{id:'v60',name:'V60 Pour Over',icon:'üîª'},{id:'chemex',name:'Chemex',icon:'‚è≥'},{id:'frenchpress',name:'French Press',icon:'ü´ñ'},{id:'aeropress',name:'AeroPress',icon:'üíâ'},{id:'moka',name:'Moka Pot',icon:'ü´ó'},{id:'dripper',name:'Dripper',icon:'‚òï'},{id:'filter',name:'Filter Coffee',icon:'üìÑ'}];// Common options for dropdowns\nconst commonCountries=['BR','CO','ET','GT','HN','JM','KE','PE','UG','VE','CR','EC','MX','NI','PA','RW','TZ','YE','ID','IN','VN','PG','HI'];const commonTasteNotes=['Chocolate: 3, Nutty: 4, Fruity: 2, Floral: 1, Spicy: 2','Chocolate: 4, Nutty: 3, Caramel: 3, Vanilla: 2','Fruity: 4, Citrus: 3, Berry: 4, Floral: 2','Chocolate: 5, Nutty: 4, Earthy: 3, Roasted: 4','Caramel: 4, Vanilla: 3, Sweet: 4, Smooth: 3','Berry: 4, Wine: 3, Fruity: 5, Acidic: 3','Earthy: 4, Herbal: 3, Woody: 3, Bold: 4','Citrus: 4, Bright: 4, Clean: 3, Light: 3','Spicy: 3, Peppery: 2, Complex: 4, Rich: 4'];const commonPreparationNotes=['Pure espresso','18g dose stretched to 30 seconds - Americano style','Extra fine grind for stronger extraction','Coarser grind for smoother taste','Used extra sieve (sieb) for more crema','Double shot extraction','Single shot, concentrated','Medium grind, normal extraction','Pre-infusion for 10 seconds','Temperature adjusted to 90¬∞C','Temperature adjusted to 95¬∞C'];// Default sample data\nconst defaultCoffees=[{\"id\":17,\"roaster\":\"DieR√∂ster - Suchan Bologna\",\"description\":\"Leicht fruchtig, schokoladig\",\"favorite\":true,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"12\",\"percentArabica\":90,\"percentRobusta\":10,\"cuppingTime\":new Date(\"2023-06-10 14:32:49\"),\"cremaRating\":3,\"tasteRating\":3,\"tasteNotes\":\"light fruity, chocolate, balanced, bitter chocolate notes\",\"url\":\"https://www.dieroester.at/roester/suchan/bologna\",\"comment\":\"90/10 Mischung aus Brasilien, Indien, √Ñthiopien, Nicaragua\",\"origin\":\"BR,IN,ET,NI\",\"roastLevel\":\"medium-dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"43.20\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\",\"preparationNotes\":\"Pure espresso\",\"recommendedMethod\":\"espresso\"},{\"id\":11,\"roaster\":\"DieR√∂ster - Suchan Palermo\",\"description\":\"schokoladig nussig holzig\",\"favorite\":true,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"15\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2023-03-15 21:48:47\"),\"cremaRating\":5,\"tasteRating\":5,\"tasteNotes\":\"nutty, woody, chocolate, very low acidity\",\"url\":\"https://www.dieroester.at/roester/suchan/palermo\",\"comment\":\"Parade-Espresso f√ºr Leute, die viel Aroma und wenig S√§ure m√∂chten\",\"origin\":\"IT\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"45.60\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\",\"preparationNotes\":\"Pure espresso\",\"recommendedMethod\":\"espresso\"},{\"id\":20,\"roaster\":\"Lavazza\",\"description\":\"Barista intenso\",\"favorite\":true,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"10\",\"percentArabica\":50,\"percentRobusta\":50,\"cuppingTime\":new Date(\"2024-01-10 19:03:35\"),\"cremaRating\":5,\"tasteRating\":5,\"tasteNotes\":\"cocoa, wood, hazelnut, full body, intense aftertaste\",\"url\":\"https://www.lavazza.com/en/coffee-beans/espresso-barista-intenso\",\"comment\":\"Intensity 9/10, perfect for espresso and moka\",\"origin\":\"BR,AS\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"19.99\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\",\"preparationNotes\":\"Pure espresso\",\"recommendedMethod\":\"espresso\"},{\"id\":19,\"roaster\":\"Lavazza\",\"description\":\"Espresso Italiano Cremoso\",\"favorite\":true,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"9\",\"percentArabica\":30,\"percentRobusta\":70,\"cuppingTime\":new Date(\"2023-10-15 12:29:58\"),\"cremaRating\":5,\"tasteRating\":5,\"tasteNotes\":\"chocolate, spices, cocoa, long-lasting crema\",\"url\":\"https://www.lavazza.com/en/coffee/coffee-beans/espresso-cremoso-1-kg.html\",\"comment\":\"R√∂stgrad mittel, Intensity 8/10, from Latin America and Southeast Asia\",\"origin\":\"LA,AS\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"16.49\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\",\"preparationNotes\":\"Pure espresso\",\"recommendedMethod\":\"espresso\"},{\"id\":21,\"roaster\":\"Lavazza\",\"description\":\"Gran Cremoso\",\"favorite\":true,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"19\",\"percentArabica\":70,\"percentRobusta\":30,\"cuppingTime\":new Date(\"2024-03-23 07:41:56\"),\"cremaRating\":4,\"tasteRating\":4,\"tasteNotes\":\"chocolate, dried fruits, balanced, well-rounded\",\"url\":\"https://www.lavazza.com\",\"comment\":\"South America and Southeast Asia blend\",\"origin\":\"SA,AS\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"26.99\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\",\"preparationNotes\":\"Pure espresso\",\"recommendedMethod\":\"espresso\"},{\"id\":9,\"roaster\":\"220 Grad\",\"description\":\"Guatemala La Labor\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"15\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2020-07-11 18:02:56\"),\"cremaRating\":4,\"tasteRating\":4,\"tasteNotes\":\"almonds, pecans, dried fruits, milk chocolate, lively acidity\",\"url\":\"https://www.220grad.com/produkt/guatemala-la-labor-espresso-roestung/\",\"comment\":\"Red Bourbon variety, Finca La Labor, 1520m altitude\",\"origin\":\"GT\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"v60\",\"price\":\"38.30\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\",\"preparationNotes\":\"Pure espresso\"},{\"id\":18,\"roaster\":\"220 Grad\",\"description\":\"Guatemala Single Region Robusta\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"5\",\"percentArabica\":0,\"percentRobusta\":100,\"cuppingTime\":new Date(\"2023-08-18 08:14:24\"),\"cremaRating\":5,\"tasteRating\":3,\"tasteNotes\":\"creamy, sweet grain, hazelnut, walnut, dark caramel, cinnamon, lemongrass\",\"url\":\"https://www.220grad.com/produkt/guatemala-robusta/\",\"comment\":\"Finca Santa Isabel, biodynamic cultivation, 1400m altitude\",\"origin\":\"GT\",\"roastLevel\":\"medium-dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"34.20\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":8,\"roaster\":\"220 Grad\",\"description\":\"Selektion Eins\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"2,8\",\"grindingDegree\":\"3\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2020-05-12 13:08:43\"),\"cremaRating\":3,\"tasteRating\":3,\"tasteNotes\":\"\",\"url\":\"https://www.220grad.com\",\"comment\":\"\",\"origin\":\"\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"39.20\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":12,\"roaster\":\"Bohnendealer - Amicizia Espresso\",\"description\":\"schokoladig nussig kr√§ftig samtig\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"18\",\"percentArabica\":26,\"percentRobusta\":74,\"cuppingTime\":new Date(\"2023-04-07 20:07:06\"),\"cremaRating\":3,\"tasteRating\":3,\"tasteNotes\":\"dark chocolate, spicy, full-bodied, velvety, no acidity\",\"url\":\"https://www.bohnendealer.coffee/collections/coffee/products/amicizia-espresso\",\"comment\":\"Neapolitan dark roast from 7 origins: India, Uganda, Costa Rica, Colombia, El Salvador, Brazil, Ethiopia\",\"origin\":\"IN,UG,CR,CO,SV,BR,ET\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"31.90\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":14,\"roaster\":\"Bohnendealer - Malabar\",\"description\":\"schokoladig nussig mild samtig\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"11\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2023-05-07 09:02:11\"),\"cremaRating\":1,\"tasteRating\":1,\"tasteNotes\":\"chocolate, nutty, sweet, monsoon processed\",\"url\":\"https://www.bohnendealer.coffee/products/monsooned-malabar-espresso\",\"comment\":\"Monsooned process creates unique flavor\",\"origin\":\"IN\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"33.80\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":13,\"roaster\":\"Bohnendealer - Paris\",\"description\":\"dunkel w√ºrzig rassig kr√§frig\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"11\",\"percentArabica\":60,\"percentRobusta\":40,\"cuppingTime\":new Date(\"2023-04-07 20:17:36\"),\"cremaRating\":2.5,\"tasteRating\":2.5,\"tasteNotes\":\"dark, spicy, chocolate notes, full body\",\"url\":\"https://www.bohnendealer.coffee/products/paris-espresso-premium-slow-roast-kaffee\",\"comment\":\"French roast style, from Ecuador, Ethiopia and India\",\"origin\":\"EC,ET,IN\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"31.90\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":15,\"roaster\":\"Bohnendealer - Siena\",\"description\":\"dunkel schokoladig kr√§ftig\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"13\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2023-05-14 10:41:28\"),\"cremaRating\":3,\"tasteRating\":3,\"tasteNotes\":\"dark chocolate, Italian style, traditional\",\"url\":\"https://www.bohnendealer.coffee/products/siena-espresso\",\"comment\":\"Hommage to Italian coffee culture\",\"origin\":\"IT\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"31.90\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":3,\"roaster\":\"Dallmayr\",\"description\":\"Caffe Crema Perfetto\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"7\",\"percentArabica\":70,\"percentRobusta\":30,\"cuppingTime\":new Date(\"2019-05-29 14:30:01\"),\"cremaRating\":0,\"tasteRating\":0,\"comment\":\"\",\"origin\":\"\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"18.48\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":2,\"roaster\":\"Dallmayr\",\"description\":\"d'Oro Intensa\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"3\",\"grindingDegree\":\"3\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2019-04-10 14:04:36\"),\"cremaRating\":5,\"tasteRating\":4,\"comment\":\"sehr stark\",\"origin\":\"\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"15.49\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":4,\"roaster\":\"Dallmayr\",\"description\":\"Espresso intenso\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"7\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2019-05-29 14:32:33\"),\"cremaRating\":5,\"tasteRating\":4,\"comment\":\"erdig\",\"origin\":\"\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"18.99\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":16,\"roaster\":\"DieR√∂ster - Kaffee vom See\",\"description\":\"Uganda Indonesien\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"21\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2023-06-08 08:45:36\"),\"cremaRating\":1,\"tasteRating\":1,\"comment\":\"\",\"origin\":\"UG,ID\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"33.30\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":25,\"roaster\":\"Eduscho\",\"description\":\"Espresso Intenso\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"8\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2025-06-04 14:18:08\"),\"cremaRating\":1,\"tasteRating\":2,\"comment\":\"erdig ist nicht meins\",\"origin\":\"\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"16.99\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"18g dose stretched to 30 seconds - Americano style + extra fine sieve for more crema\"},{\"id\":1,\"roaster\":\"Happy Coffee\",\"description\":\"Sidamo Espresso\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"7\",\"grindingDegree\":\"7\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2019-03-21 14:47:03\"),\"cremaRating\":5,\"tasteRating\":4,\"comment\":\"Als Espresso sehr gut und stark.\",\"origin\":\"ET\",\"roastLevel\":\"medium-dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"24.90\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":7,\"roaster\":\"Hrovat\",\"description\":\"B√ºrobohne\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"3\",\"grindingDegree\":\"3\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2019-11-25 14:57:16\"),\"cremaRating\":3,\"tasteRating\":3,\"comment\":\"etwas s√§uerlich\",\"origin\":\"AT\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"28.00\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":10,\"roaster\":\"Hrovat\",\"description\":\"Hallstattbohne\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"3\",\"grindingDegree\":\"7\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2020-12-15 08:38:09\"),\"cremaRating\":3,\"tasteRating\":3,\"comment\":\"ist mir zu bitter\",\"origin\":\"AT\",\"roastLevel\":\"medium-dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"28.00\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":6,\"roaster\":\"Hrovat\",\"description\":\"Kaiserbohne\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"3\",\"grindingDegree\":\"3\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2019-11-19 14:00:10\"),\"cremaRating\":3,\"tasteRating\":3,\"comment\":\"\",\"origin\":\"AT\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"32.00\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"},{\"id\":22,\"roaster\":\"Tchibo\",\"description\":\"Barista Espresso\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"19\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2024-05-01 10:25:19\"),\"cremaRating\":2.5,\"tasteRating\":2.5,\"tasteNotes\":\"nutty, golden crema, Brazilian highlands\",\"url\":\"https://www.tchibo.de/products/280387747392/barista-espresso\",\"comment\":\"Sehr wenig S√§ure, 100% Fairtrade, drum roasted\",\"origin\":\"BR\",\"roastLevel\":\"medium\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"19.99\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\",\"recommendedMethod\":\"espresso\"},{\"id\":23,\"roaster\":\"Tchibo\",\"description\":\"Barista Espresso Dark\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"10\",\"percentArabica\":70,\"percentRobusta\":30,\"cuppingTime\":new Date(\"2024-06-22 11:33:01\"),\"cremaRating\":3,\"tasteRating\":3,\"tasteNotes\":\"roasted nuts, velvety dark crema, intense\",\"url\":\"https://www.tchibo.de\",\"comment\":\"India and Brazil blend, dark roast\",\"origin\":\"IN,BR\",\"roastLevel\":\"dark\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"espresso\",\"price\":\"22.99\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\",\"recommendedMethod\":\"espresso\"},{\"id\":24,\"roaster\":\"Tchibo\",\"description\":\"Cafe Crema Barista\",\"favorite\":false,\"grinded\":false,\"grindingTime\":\"\",\"grindingDegree\":\"13\",\"percentArabica\":100,\"percentRobusta\":0,\"cuppingTime\":new Date(\"2024-06-22 11:33:37\"),\"cremaRating\":3,\"tasteRating\":3,\"tasteNotes\":\"mild, red berries, velvety crema\",\"url\":\"https://tchibo.us/pages/barista-coffees\",\"comment\":\"gut zum verd√ºnnen, geschmacklich fad, gut vertr√§glich, South American beans\",\"origin\":\"SA\",\"roastLevel\":\"light\",\"brewingMethod\":\"espresso\",\"recommendedMethod\":\"filter\",\"price\":\"14.99\",\"packageSize\":1000,\"currency\":\"EUR\",\"preparationNotes\":\"Pure espresso\"}];// Data version for migration management\nconst DATA_VERSION='2.1';// Load data from localStorage on mount\nuseEffect(()=>{const loadedData=localStorage.getItem('coffeeTrackerData');const loadedVersion=localStorage.getItem('coffeeTrackerVersion');if(loadedData&&loadedVersion===DATA_VERSION){try{const parsedData=JSON.parse(loadedData);// Convert date strings back to Date objects\nconst coffeesWithDates=parsedData.map(coffee=>_objectSpread(_objectSpread({},coffee),{},{cuppingTime:new Date(coffee.cuppingTime)}));setCoffees(coffeesWithDates);console.log('‚úÖ Loaded existing data from localStorage');}catch(error){console.error('‚ùå Error loading data from localStorage:',error);// Fall back to default data if there's an error\nsetCoffees(defaultCoffees);localStorage.setItem('coffeeTrackerVersion',DATA_VERSION);}}else{// No saved data or version mismatch - use updated default data\nconsole.log('üîÑ Using fresh default data (version mismatch or first run)');setCoffees(defaultCoffees);localStorage.setItem('coffeeTrackerVersion',DATA_VERSION);}// Load dark mode preference\nconst savedDarkMode=localStorage.getItem('coffeeTrackerDarkMode');if(savedDarkMode!==null){setDarkMode(JSON.parse(savedDarkMode));}},[]);// Save data to localStorage whenever coffees change\nuseEffect(()=>{if(coffees.length>0){try{localStorage.setItem('coffeeTrackerData',JSON.stringify(coffees));localStorage.setItem('coffeeTrackerVersion',DATA_VERSION);localStorage.setItem('coffeeTrackerLastSaved',new Date().toISOString());console.log('üíæ Data saved to localStorage');}catch(error){console.error('‚ùå Error saving to localStorage:',error);if(error.name==='QuotaExceededError'){alert('Storage quota exceeded! Consider exporting your data.');}}}},[coffees]);// Save dark mode preference\nuseEffect(()=>{localStorage.setItem('coffeeTrackerDarkMode',JSON.stringify(darkMode));},[darkMode]);// Save collapsed roasters state\nuseEffect(()=>{localStorage.setItem('collapsedRoasters',JSON.stringify(collapsedRoasters));},[collapsedRoasters]);// Toggle roaster collapse state\nconst toggleRoasterCollapse=roasterName=>{setCollapsedRoasters(prev=>_objectSpread(_objectSpread({},prev),{},{[roasterName]:!prev[roasterName]}));};// Expand all roasters\nconst expandAllRoasters=()=>{setCollapsedRoasters({});};// Collapse all roasters\nconst collapseAllRoasters=()=>{const roasterNames=[...new Set(filteredCoffees.map(coffee=>coffee.roaster.split(' - ')[0]||coffee.roaster))];const allCollapsed={};roasterNames.forEach(name=>{allCollapsed[name]=true;});setCollapsedRoasters(allCollapsed);};// Scroll to form when editing/copying\nconst scrollToForm=()=>{setTimeout(()=>{if(formRef.current){formRef.current.scrollIntoView({behavior:'smooth',block:'start',inline:'nearest'});}},100);// Small delay to ensure form is rendered\n};// Country codes mapping with names\nconst countryFlags={'BR':{flag:'üáßüá∑',name:'Brazil'},'IN':{flag:'üáÆüá≥',name:'India'},'ET':{flag:'üá™üáπ',name:'Ethiopia'},'NI':{flag:'üá≥üáÆ',name:'Nicaragua'},'IT':{flag:'üáÆüáπ',name:'Italy'},'GT':{flag:'üá¨üáπ',name:'Guatemala'},'UG':{flag:'üá∫üá¨',name:'Uganda'},'CR':{flag:'üá®üá∑',name:'Costa Rica'},'CO':{flag:'üá®üá¥',name:'Colombia'},'SV':{flag:'üá∏üáª',name:'El Salvador'},'EC':{flag:'üá™üá®',name:'Ecuador'},'ID':{flag:'üáÆüá©',name:'Indonesia'},'AT':{flag:'üá¶üáπ',name:'Austria'},'AS':{flag:'üåè',name:'Asia'},'LA':{flag:'üåé',name:'Latin America'},'SA':{flag:'üåé',name:'South America'}};// Roast level badge colors and text\nconst getRoastBadge=level=>{switch(level){case'light':return{bg:'bg-yellow-100 dark:bg-yellow-900',text:'text-yellow-800 dark:text-yellow-100',label:'Light Roast'};case'medium':return{bg:'bg-amber-100 dark:bg-amber-900',text:'text-amber-800 dark:text-amber-100',label:'Medium Roast'};case'medium-dark':return{bg:'bg-orange-100 dark:bg-orange-900',text:'text-orange-800 dark:text-orange-100',label:'Medium-Dark'};case'dark':return{bg:'bg-stone-200 dark:bg-stone-800',text:'text-stone-800 dark:text-stone-100',label:'Dark Roast'};default:return{bg:'bg-gray-100 dark:bg-gray-800',text:'text-gray-800 dark:text-gray-100',label:'Unknown'};}};// Parse taste notes for radar chart\nconst parseTasteProfile=tasteNotes=>{const profile={chocolate:0,nutty:0,fruity:0,floral:0,earthy:0,spicy:0,sweet:0,acidic:0};if(!tasteNotes)return profile;const notes=tasteNotes.toLowerCase();// Score each attribute based on keywords - using incremental scoring\nif(notes.includes('chocolate')||notes.includes('cocoa')||notes.includes('cacao'))profile.chocolate=4;if(notes.includes('dark chocolate'))profile.chocolate=5;if(notes.includes('nutty')||notes.includes('nut'))profile.nutty=3;if(notes.includes('almond'))profile.nutty=Math.max(profile.nutty,4);if(notes.includes('hazelnut'))profile.nutty=Math.max(profile.nutty,4);if(notes.includes('walnut'))profile.nutty=Math.max(profile.nutty,4);if(notes.includes('pecan'))profile.nutty=Math.max(profile.nutty,4);if(notes.includes('fruity')||notes.includes('fruit'))profile.fruity=4;if(notes.includes('berry')||notes.includes('berries'))profile.fruity=Math.max(profile.fruity,4);if(notes.includes('citrus'))profile.fruity=Math.max(profile.fruity,4);if(notes.includes('lemon'))profile.fruity=Math.max(profile.fruity,3);if(notes.includes('floral')||notes.includes('flower')||notes.includes('jasmine'))profile.floral=4;if(notes.includes('earthy'))profile.earthy=4;if(notes.includes('woody')||notes.includes('wood'))profile.earthy=Math.max(profile.earthy,4);if(notes.includes('spicy')||notes.includes('spice'))profile.spicy=4;if(notes.includes('cinnamon'))profile.spicy=Math.max(profile.spicy,3);if(notes.includes('sweet'))profile.sweet=3;if(notes.includes('caramel'))profile.sweet=Math.max(profile.sweet,4);if(notes.includes('honey'))profile.sweet=Math.max(profile.sweet,4);if(notes.includes('sugar'))profile.sweet=Math.max(profile.sweet,3);if(notes.includes('acid')||notes.includes('bright')||notes.includes('lively'))profile.acidic=4;if(notes.includes('low acidity')||notes.includes('no acidity'))profile.acidic=1;return profile;};// Cost calculation functions\nconst calculateCostPerCup=coffee=>{if(!coffee.price||!coffee.packageSize)return null;const pricePerGram=parseFloat(coffee.price)/coffee.packageSize;// Typical espresso shot uses 18-20g, let's use 18g as default\nconst gramsPerCup=coffee.brewingMethod==='filter'?15:18;const costPerCup=pricePerGram*gramsPerCup;return{costPerCup:costPerCup.toFixed(3),pricePerKg:(parseFloat(coffee.price)/coffee.packageSize*1000).toFixed(2),currency:coffee.currency||'EUR'};};const calculateValueScore=coffee=>{const cost=calculateCostPerCup(coffee);if(!cost||coffee.tasteRating===0)return null;// Value score = taste rating / cost per cup (higher is better)\nconst valueScore=coffee.tasteRating/parseFloat(cost.costPerCup);return valueScore.toFixed(1);};// Fixed Analytics calculations\nconst getAnalyticsData=()=>{// Favorite roasters - improved calculation\nconst roasterCounts=coffees.reduce((acc,coffee)=>{const roaster=coffee.roaster.split(' - ')[0].trim();acc[roaster]=(acc[roaster]||0)+1;return acc;},{});const roasterData=Object.entries(roasterCounts).map(_ref=>{let[name,count]=_ref;return{name,count};}).sort((a,b)=>b.count-a.count).slice(0,6);// Show top 6 roasters\n// Arabica/Robusta preference - improved calculation\nconst totalCoffees=coffees.length;const avgArabica=totalCoffees>0?coffees.reduce((sum,c)=>sum+c.percentArabica,0)/totalCoffees:50;const avgRobusta=100-avgArabica;const blendData=[{name:'Arabica',value:Math.round(avgArabica),fill:'#8B4513'},{name:'Robusta',value:Math.round(avgRobusta),fill:'#D2691E'}];// Rating trends over time - improved calculation with proper sorting\nconst ratingTrends=coffees.sort((a,b)=>new Date(a.cuppingTime)-new Date(b.cuppingTime)).map((coffee,index)=>({date:new Date(coffee.cuppingTime).toLocaleDateString('en-US',{month:'short',year:'2-digit'}),rating:coffee.tasteRating,crema:coffee.cremaRating,name:coffee.roaster.split(' - ')[0],index:index+1}));// Roast level distribution\nconst roastLevelCounts=coffees.reduce((acc,coffee)=>{const level=coffee.roastLevel||'unknown';acc[level]=(acc[level]||0)+1;return acc;},{});const roastLevelData=Object.entries(roastLevelCounts).map(_ref2=>{let[level,count]=_ref2;return{level:level.charAt(0).toUpperCase()+level.slice(1),count,fill:level==='light'?'#D2B48C':level==='medium'?'#8B4513':level==='medium-dark'?'#654321':level==='dark'?'#3C1810':'#A0A0A0'};});// Origin country analysis\nconst originCounts=coffees.reduce((acc,coffee)=>{if(coffee.origin){const countries=coffee.origin.split(',').map(c=>c.trim());countries.forEach(country=>{if(countryFlags[country]){acc[country]=(acc[country]||0)+1;}});}return acc;},{});const originData=Object.entries(originCounts).map(_ref3=>{var _countryFlags$code,_countryFlags$code2;let[code,count]=_ref3;return{country:((_countryFlags$code=countryFlags[code])===null||_countryFlags$code===void 0?void 0:_countryFlags$code.name)||code,code,count,flag:((_countryFlags$code2=countryFlags[code])===null||_countryFlags$code2===void 0?void 0:_countryFlags$code2.flag)||'üåç'};}).sort((a,b)=>b.count-a.count).slice(0,8);// Grind settings by brand - NEW CALCULATION\nconst grindByBrand=coffees.filter(c=>c.grindingDegree&&!isNaN(parseInt(c.grindingDegree))).reduce((acc,coffee)=>{const brand=coffee.roaster.split(' - ')[0].trim();const grind=parseInt(coffee.grindingDegree);if(!acc[brand]){acc[brand]={total:0,count:0,grinds:[]};}acc[brand].total+=grind;acc[brand].count+=1;acc[brand].grinds.push(grind);return acc;},{});const grindByBrandData=Object.entries(grindByBrand).map(_ref4=>{let[brand,data]=_ref4;return{brand,avgGrind:Math.round(data.total/data.count*10)/10,count:data.count,minGrind:Math.min(...data.grinds),maxGrind:Math.max(...data.grinds)};}).sort((a,b)=>a.avgGrind-b.avgGrind);// Price analysis\nconst coffeesWithPrice=coffees.filter(c=>c.price&&!isNaN(parseFloat(c.price)));const priceAnalysis=coffeesWithPrice.map(coffee=>{const cost=calculateCostPerCup(coffee);return{name:coffee.roaster.split(' - ')[0],coffee:coffee.description,costPerCup:parseFloat(cost.costPerCup),pricePerKg:parseFloat(cost.pricePerKg),tasteRating:coffee.tasteRating,valueScore:parseFloat(calculateValueScore(coffee))||0};}).sort((a,b)=>a.costPerCup-b.costPerCup);const avgCostPerCup=priceAnalysis.length>0?(priceAnalysis.reduce((sum,c)=>sum+c.costPerCup,0)/priceAnalysis.length).toFixed(3):null;return{roasterData,blendData,ratingTrends,roastLevelData,originData,grindByBrandData,priceAnalysis,avgCostPerCup};};const[formData,setFormData]=useState({roaster:'',description:'',favorite:false,grinded:false,grindingTime:'',grindingDegree:'',percentArabica:100,percentRobusta:0,cremaRating:0,tasteRating:0,tasteNotes:'',url:'',comment:'',origin:'',roastLevel:'medium',brewingMethod:'espresso',recommendedMethod:'espresso',price:'',packageSize:1000,currency:'EUR',preparationNotes:'',coffeeGroup:''});const resetForm=()=>{setFormData({roaster:'',description:'',favorite:false,grinded:false,grindingTime:'',grindingDegree:'',percentArabica:100,percentRobusta:0,cremaRating:0,tasteRating:0,tasteNotes:'',url:'',comment:'',origin:'',roastLevel:'medium',brewingMethod:'espresso',recommendedMethod:'espresso',price:'',packageSize:1000,currency:'EUR',preparationNotes:'',coffeeGroup:''});};const handleSubmit=()=>{const newCoffee=_objectSpread(_objectSpread({},formData),{},{id:editingCoffee?editingCoffee.id:Date.now(),cuppingTime:editingCoffee?editingCoffee.cuppingTime:new Date(),percentArabica:parseInt(formData.percentArabica),percentRobusta:parseInt(formData.percentRobusta),grindingTime:formData.grindingTime||'',grindingDegree:formData.grindingDegree||'',cremaRating:parseInt(formData.cremaRating),tasteRating:parseInt(formData.tasteRating),tasteNotes:formData.tasteNotes||'',url:formData.url||''});if(editingCoffee){setCoffees(coffees.map(coffee=>coffee.id===editingCoffee.id?newCoffee:coffee));setEditingCoffee(null);}else{setCoffees([...coffees,newCoffee]);}resetForm();setShowAddForm(false);};const handleEdit=coffee=>{setFormData({roaster:coffee.roaster,description:coffee.description,favorite:coffee.favorite,grinded:coffee.grinded,grindingTime:coffee.grindingTime||'',grindingDegree:coffee.grindingDegree||'',percentArabica:coffee.percentArabica,percentRobusta:coffee.percentRobusta,cremaRating:coffee.cremaRating,tasteRating:coffee.tasteRating,tasteNotes:coffee.tasteNotes||'',url:coffee.url||'',comment:coffee.comment||'',origin:coffee.origin||'',roastLevel:coffee.roastLevel||'medium',brewingMethod:coffee.brewingMethod||'espresso',recommendedMethod:coffee.recommendedMethod||'espresso',price:coffee.price||'',packageSize:coffee.packageSize||1000,currency:coffee.currency||'EUR',preparationNotes:coffee.preparationNotes||'',coffeeGroup:coffee.coffeeGroup||''});setEditingCoffee(coffee);setShowAddForm(true);scrollToForm();};const handleDelete=id=>{setCoffees(coffees.filter(coffee=>coffee.id!==id));};// Copy coffee for different preparation methods\nconst handleCopy=coffee=>{const newCoffee=_objectSpread(_objectSpread({},coffee),{},{id:Date.now(),cuppingTime:new Date(),cremaRating:0,tasteRating:0,preparationNotes:'',comment:'',// Create or maintain group ID for related coffees\ncoffeeGroup:coffee.coffeeGroup||\"\".concat(coffee.roaster,\"-\").concat(coffee.description).replace(/[^a-zA-Z0-9]/g,'-').toLowerCase()});// Also update the original coffee with group ID if it doesn't have one\nif(!coffee.coffeeGroup){const updatedCoffees=coffees.map(c=>c.id===coffee.id?_objectSpread(_objectSpread({},c),{},{coffeeGroup:newCoffee.coffeeGroup}):c);setCoffees([...updatedCoffees,newCoffee]);}else{setCoffees([...coffees,newCoffee]);}// Pre-fill form with the new coffee for editing\nsetFormData({roaster:newCoffee.roaster,description:newCoffee.description,favorite:newCoffee.favorite,grinded:newCoffee.grinded,grindingTime:newCoffee.grindingTime||'',grindingDegree:newCoffee.grindingDegree||'',percentArabica:newCoffee.percentArabica,percentRobusta:newCoffee.percentRobusta,cremaRating:newCoffee.cremaRating,tasteRating:newCoffee.tasteRating,tasteNotes:newCoffee.tasteNotes||'',url:newCoffee.url||'',comment:newCoffee.comment||'',origin:newCoffee.origin||'',roastLevel:newCoffee.roastLevel||'medium',brewingMethod:newCoffee.brewingMethod||'espresso',recommendedMethod:newCoffee.recommendedMethod||'espresso',price:newCoffee.price||'',packageSize:newCoffee.packageSize||1000,currency:newCoffee.currency||'EUR',preparationNotes:newCoffee.preparationNotes||'',coffeeGroup:newCoffee.coffeeGroup});setEditingCoffee(newCoffee);setShowAddForm(true);scrollToForm();};// Export data to JSON file\nconst handleExport=()=>{const dataToExport={version:'1.0',exportDate:new Date().toISOString(),coffees:coffees};const jsonString=JSON.stringify(dataToExport,null,2);const blob=new Blob([jsonString],{type:'application/json'});const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=\"coffee-tracker-export-\".concat(new Date().toISOString().split('T')[0],\".json\");document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);};// Export data to PDF\nconst handlePDFExport=()=>{const doc=new jsPDF();const pageHeight=doc.internal.pageSize.height;let yPosition=20;// Title\ndoc.setFontSize(20);doc.setFont(undefined,'bold');doc.text('Coffee Collection',20,yPosition);yPosition+=15;// Summary stats\ndoc.setFontSize(12);doc.setFont(undefined,'normal');doc.text(\"Total Coffees: \".concat(coffees.length),20,yPosition);yPosition+=8;doc.text(\"Favorites: \".concat(coffees.filter(c=>c.favorite).length),20,yPosition);yPosition+=8;const avgRating=coffees.length>0?(coffees.reduce((sum,c)=>sum+c.tasteRating,0)/coffees.length).toFixed(1):'0';doc.text(\"Average Rating: \".concat(avgRating,\"/5\"),20,yPosition);yPosition+=15;// Coffee list\ndoc.setFont(undefined,'bold');doc.text('Coffee Details:',20,yPosition);yPosition+=10;doc.setFont(undefined,'normal');const sortedCoffees=[...coffees].sort((a,b)=>b.tasteRating-a.tasteRating);sortedCoffees.forEach((coffee,index)=>{// Check if we need a new page\nif(yPosition>pageHeight-40){doc.addPage();yPosition=20;}// Coffee header\ndoc.setFont(undefined,'bold');doc.setFontSize(12);doc.text(\"\".concat(index+1,\". \").concat(coffee.roaster),20,yPosition);yPosition+=6;doc.setFont(undefined,'normal');doc.setFontSize(10);// Description\ndoc.text(\"Description: \".concat(coffee.description),25,yPosition);yPosition+=5;// Ratings with stars\nconst stars=rating=>'‚òÖ'.repeat(rating)+'‚òÜ'.repeat(5-rating);doc.text(\"Taste: \".concat(stars(coffee.tasteRating),\" (\").concat(coffee.tasteRating,\"/5)\"),25,yPosition);yPosition+=5;doc.text(\"Crema: \".concat(stars(coffee.cremaRating),\" (\").concat(coffee.cremaRating,\"/5)\"),25,yPosition);yPosition+=5;// Blend\ndoc.text(\"Blend: \".concat(coffee.percentArabica,\"% Arabica, \").concat(coffee.percentRobusta,\"% Robusta\"),25,yPosition);yPosition+=5;// Roast level\nif(coffee.roastLevel){doc.text(\"Roast: \".concat(coffee.roastLevel.charAt(0).toUpperCase()+coffee.roastLevel.slice(1)),25,yPosition);yPosition+=5;}// Brewing methods\nif(coffee.brewingMethod){const method=brewingMethods.find(m=>m.id===coffee.brewingMethod);doc.text(\"Your Method: \".concat(method?method.name:coffee.brewingMethod),25,yPosition);yPosition+=5;}if(coffee.recommendedMethod&&coffee.recommendedMethod!==coffee.brewingMethod){const recMethod=brewingMethods.find(m=>m.id===coffee.recommendedMethod);doc.text(\"Recommended: \".concat(recMethod?recMethod.name:coffee.recommendedMethod),25,yPosition);yPosition+=5;}// Grind settings\nif(coffee.grindingDegree){doc.text(\"Grind Level: \".concat(coffee.grindingDegree),25,yPosition);yPosition+=5;}// Origin\nif(coffee.origin){const origins=coffee.origin.split(',').map(code=>{const country=countryFlags[code.trim()];return country?country.name:code.trim();}).join(', ');doc.text(\"Origin: \".concat(origins),25,yPosition);yPosition+=5;}// Taste notes\nif(coffee.tasteNotes){const maxWidth=160;const lines=doc.splitTextToSize(\"Taste Notes: \".concat(coffee.tasteNotes),maxWidth);lines.forEach(line=>{doc.text(line,25,yPosition);yPosition+=5;});}// Preparation notes\nif(coffee.preparationNotes){doc.text(\"Preparation: \".concat(coffee.preparationNotes),25,yPosition);yPosition+=5;}// Comment\nif(coffee.comment){const maxWidth=160;const lines=doc.splitTextToSize(\"Notes: \".concat(coffee.comment),maxWidth);lines.forEach(line=>{doc.text(line,25,yPosition);yPosition+=5;});}// Date\ndoc.text(\"Cupped: \".concat(new Date(coffee.cuppingTime).toLocaleDateString()),25,yPosition);yPosition+=5;// Price information\nif(coffee.price){doc.text(\"Price: \".concat(coffee.price,\" \").concat(coffee.currency||'EUR',\" / \").concat(coffee.packageSize||1000,\"g\"),25,yPosition);yPosition+=5;const cost=calculateCostPerCup(coffee);if(cost){doc.text(\"Cost per cup: \".concat(cost.costPerCup,\" \").concat(cost.currency),25,yPosition);yPosition+=5;const valueScore=calculateValueScore(coffee);if(valueScore){doc.text(\"Value score: \".concat(valueScore,\" (taste/cost ratio)\"),25,yPosition);yPosition+=5;}}}// Favorite indicator\nif(coffee.favorite){doc.text('‚òÖ FAVORITE',25,yPosition);yPosition+=5;}yPosition+=5;// Space between coffees\n});// Footer\nconst totalPages=doc.internal.getNumberOfPages();for(let i=1;i<=totalPages;i++){doc.setPage(i);doc.setFontSize(8);doc.text(\"Generated by Coffee Tracker - Page \".concat(i,\" of \").concat(totalPages),20,pageHeight-10);doc.text(new Date().toLocaleDateString(),doc.internal.pageSize.width-50,pageHeight-10);}// Save the PDF\ndoc.save(\"coffee-collection-\".concat(new Date().toISOString().split('T')[0],\".pdf\"));};// Clear localStorage and reset to default data (DANGEROUS)\nconst handleResetToDefaults=()=>{const storageInfo=getStorageInfo();const confirmText='RESET ALL DATA';const userInput=prompt(\"\\u26A0\\uFE0F DANGER: This will PERMANENTLY DELETE all your coffee data!\\n\\n\"+\"You will lose:\\n\"+\"\\u2022 \".concat(coffees.length,\" coffee entries\\n\")+\"\\u2022 All your personal ratings and comments\\n\"+\"\\u2022 All cupping dates and custom data\\n\"+\"\\u2022 \".concat(storageInfo?storageInfo.sizeKB:'?',\"KB of stored data\\n\\n\")+\"This CANNOT be undone!\\n\\n\"+\"If you really want to continue, type exactly: \".concat(confirmText));if(userInput===confirmText){// Double confirmation\nif(window.confirm('‚ö†Ô∏è FINAL WARNING: Are you absolutely sure? This will delete everything!')){localStorage.removeItem('coffeeTrackerData');localStorage.removeItem('coffeeTrackerVersion');localStorage.removeItem('coffeeTrackerLastSaved');setCoffees(defaultCoffees);localStorage.setItem('coffeeTrackerVersion',DATA_VERSION);alert('‚úÖ Data reset to defaults. All previous data has been deleted.');}}else if(userInput!==null){alert('‚ùå Reset cancelled. Text did not match exactly.');}};// Force refresh data (bypass version check)\nconst handleForceRefresh=()=>{if(window.confirm('This will update your data with any missing fields from the latest version. Existing data will be preserved. Continue?')){const migratedData=coffees.map(coffee=>_objectSpread(_objectSpread({},coffee),{},{// Ensure all new fields exist\nbrewingMethod:coffee.brewingMethod||'espresso',recommendedMethod:coffee.recommendedMethod||'espresso',price:coffee.price||'',packageSize:coffee.packageSize||1000,currency:coffee.currency||'EUR',preparationNotes:coffee.preparationNotes||(new Date(coffee.cuppingTime)<new Date('2024-12-01')?'Pure espresso':''),coffeeGroup:coffee.coffeeGroup||''}));setCoffees(migratedData);localStorage.setItem('coffeeTrackerVersion',DATA_VERSION);alert('‚úÖ Data migrated to latest version!');}};// Check localStorage usage\nconst getStorageInfo=()=>{try{const data=localStorage.getItem('coffeeTrackerData');const version=localStorage.getItem('coffeeTrackerVersion');const lastSaved=localStorage.getItem('coffeeTrackerLastSaved');const sizeKB=data?(new Blob([data]).size/1024).toFixed(2):'0';return{version,lastSaved:lastSaved?new Date(lastSaved).toLocaleString():'Never',sizeKB,coffeeCount:coffees.length};}catch(error){return null;}};// Import data from JSON file\nconst handleImport=event=>{const file=event.target.files[0];if(!file)return;const reader=new FileReader();reader.onload=e=>{try{const importedData=JSON.parse(e.target.result);// Validate the imported data\nif(!importedData.coffees||!Array.isArray(importedData.coffees)){alert('Invalid file format. Please select a valid Coffee Tracker export file.');return;}// Convert date strings back to Date objects\nconst importedCoffees=importedData.coffees.map(coffee=>_objectSpread(_objectSpread({},coffee),{},{cuppingTime:new Date(coffee.cuppingTime),// Ensure each coffee has a unique ID\nid:coffee.id||Date.now()+Math.random()}));// Ask user if they want to replace or merge\nconst shouldReplace=window.confirm(\"Import \".concat(importedCoffees.length,\" coffees?\\n\\n\")+'OK = Replace all current data\\n'+'Cancel = Merge with existing data');if(shouldReplace){setCoffees(importedCoffees);}else{// Merge: add imported coffees with new IDs to avoid conflicts\nconst maxId=Math.max(...coffees.map(c=>c.id),0);const mergedCoffees=[...coffees,...importedCoffees.map((coffee,index)=>_objectSpread(_objectSpread({},coffee),{},{id:maxId+index+1}))];setCoffees(mergedCoffees);}alert(\"Successfully imported \".concat(importedCoffees.length,\" coffees!\"));}catch(error){console.error('Import error:',error);alert('Error importing file. Please make sure it\\'s a valid Coffee Tracker export.');}};reader.readAsText(file);// Reset file input\nevent.target.value='';};const filteredCoffees=coffees.filter(coffee=>{const matchesSearch=coffee.roaster.toLowerCase().includes(searchTerm.toLowerCase())||coffee.description.toLowerCase().includes(searchTerm.toLowerCase());const matchesFavorite=!filterFavorites||coffee.favorite;return matchesSearch&&matchesFavorite;}).sort((a,b)=>{switch(sortBy){case'rating':return b.tasteRating-a.tasteRating;case'roaster':return a.roaster.localeCompare(b.roaster);case'priceLowHigh':const costA=calculateCostPerCup(a);const costB=calculateCostPerCup(b);if(!costA)return 1;if(!costB)return-1;return parseFloat(costA.costPerCup)-parseFloat(costB.costPerCup);case'priceHighLow':const costA2=calculateCostPerCup(a);const costB2=calculateCostPerCup(b);if(!costA2)return 1;if(!costB2)return-1;return parseFloat(costB2.costPerCup)-parseFloat(costA2.costPerCup);case'value':const valueA=calculateValueScore(a);const valueB=calculateValueScore(b);if(!valueA)return 1;if(!valueB)return-1;return parseFloat(valueB)-parseFloat(valueA);case'date':default:return new Date(b.cuppingTime)-new Date(a.cuppingTime);}});const StarRating=_ref5=>{let{rating,onRatingChange,readOnly=false,size='normal'}=_ref5;const sizeClass=size==='small'?'w-4 h-4':'w-5 h-5';return/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:[1,2,3,4,5].map(star=>/*#__PURE__*/_jsx(Star,{className:\"\".concat(sizeClass,\" cursor-pointer transition-colors \").concat(star<=rating?'text-yellow-400 fill-yellow-400':darkMode?'text-gray-600 hover:text-yellow-300':'text-gray-300 hover:text-yellow-300',\" \").concat(readOnly?'cursor-default':''),onClick:()=>!readOnly&&onRatingChange&&onRatingChange(star)},star))});};// ComboBox component for dropdowns with custom input\nconst ComboBox=_ref6=>{let{value,onChange,options,placeholder,type='text'}=_ref6;const[isOpen,setIsOpen]=useState(false);const[inputValue,setInputValue]=useState(value||'');const dropdownRef=useRef(null);useEffect(()=>{setInputValue(value||'');},[value]);useEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const handleInputChange=e=>{const newValue=e.target.value;setInputValue(newValue);onChange(newValue);setIsOpen(true);};const handleOptionSelect=option=>{setInputValue(option);onChange(option);setIsOpen(false);};const filteredOptions=options.filter(option=>option.toLowerCase().includes(inputValue.toLowerCase()));// Format display for countries\nconst formatCountryDisplay=countryCode=>{if(type==='country'){const country=countryFlags[countryCode];return country?\"\".concat(country.flag,\" \").concat(countryCode,\" - \").concat(country.name):countryCode;}return countryCode;};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValue,onChange:handleInputChange,onFocus:()=>setIsOpen(true),placeholder:placeholder,className:\"w-full px-4 py-2 border rounded-lg pr-10 \".concat(darkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900 placeholder-gray-500',\" focus:ring-2 focus:ring-amber-500 focus:border-transparent\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsOpen(!isOpen),className:\"absolute right-2 top-1/2 transform -translate-y-1/2 \".concat(darkMode?'text-gray-400':'text-gray-500'),children:/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4 transition-transform \".concat(isOpen?'rotate-180':'')})})]}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute z-10 w-full mt-1 \".concat(darkMode?'bg-gray-700 border-gray-600':'bg-white border-gray-300',\" border rounded-lg shadow-lg max-h-48 overflow-y-auto\"),children:filteredOptions.length>0?filteredOptions.map((option,index)=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleOptionSelect(option),className:\"w-full px-4 py-2 text-left hover:\".concat(darkMode?'bg-gray-600':'bg-gray-100',\" flex items-center justify-between transition-colors\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",children:type==='country'?formatCountryDisplay(option):option}),inputValue===option&&/*#__PURE__*/_jsx(Check,{className:\"w-4 h-4 text-amber-500 flex-shrink-0 ml-2\"})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 text-sm \".concat(darkMode?'text-gray-400':'text-gray-500'),children:\"No matches found. Type to add custom entry.\"})})]});};// Prepare radar data for selected coffee\nconst getRadarData=coffee=>{const profile=parseTasteProfile(coffee.tasteNotes);return Object.entries(profile).map(_ref7=>{let[taste,value]=_ref7;return{taste:taste.charAt(0).toUpperCase()+taste.slice(1),value};});};const analytics=getAnalyticsData();// Custom tooltip component for better formatting\nconst CustomTooltip=_ref8=>{let{active,payload,label}=_ref8;if(active&&payload&&payload.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-800 border-gray-600':'bg-white border-gray-200',\" p-3 rounded-lg shadow-lg border\"),children:[/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-white':'text-gray-900',\" font-medium\"),children:label}),payload.map((entry,index)=>/*#__PURE__*/_jsx(\"p\",{style:{color:entry.color},children:\"\".concat(entry.dataKey,\": \").concat(entry.value)},index))]});}return null;};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen \".concat(darkMode?'bg-gray-900':'bg-gradient-to-br from-amber-50 to-orange-100',\" p-4 transition-colors\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-800 text-white':'bg-white',\" rounded-2xl shadow-xl p-6 mb-6 transition-colors\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between flex-wrap gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Coffee,{className:\"w-8 h-8 text-amber-600\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold \".concat(darkMode?'text-white':'text-gray-800'),children:\"Coffee Tracker\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDarkMode(!darkMode),className:\"p-2 rounded-lg \".concat(darkMode?'bg-gray-700 text-yellow-400':'bg-gray-200 text-gray-700',\" transition-colors\"),children:darkMode?/*#__PURE__*/_jsx(Sun,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Moon,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExport,className:\"p-2 rounded-lg \".concat(darkMode?'bg-gray-700 text-gray-300 hover:bg-gray-600':'bg-gray-200 text-gray-700 hover:bg-gray-300',\" transition-colors\"),title:\"Export JSON data\",children:/*#__PURE__*/_jsx(Download,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePDFExport,className:\"p-2 rounded-lg \".concat(darkMode?'bg-gray-700 text-red-300 hover:bg-gray-600':'bg-gray-200 text-red-700 hover:bg-gray-300',\" transition-colors\"),title:\"Export PDF catalog\",children:/*#__PURE__*/_jsx(FileText,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"p-2 rounded-lg \".concat(darkMode?'bg-gray-700 text-gray-300 hover:bg-gray-600':'bg-gray-200 text-gray-700 hover:bg-gray-300',\" transition-colors\"),title:\"Import data\",children:/*#__PURE__*/_jsx(Upload,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleForceRefresh,className:\"p-2 rounded-lg \".concat(darkMode?'bg-gray-700 text-blue-300 hover:bg-gray-600':'bg-gray-200 text-blue-700 hover:bg-gray-300',\" transition-colors\"),title:\"Update to latest version (safe)\",children:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-l border-gray-400 ml-2 pl-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleResetToDefaults,className:\"p-2 rounded-lg \".concat(darkMode?'bg-red-900 text-red-300 hover:bg-red-800':'bg-red-100 text-red-700 hover:bg-red-200',\" transition-colors border \").concat(darkMode?'border-red-700':'border-red-300'),title:\"\\u26A0\\uFE0F DANGER: Reset ALL data to defaults (EXPORT FIRST!)\",children:/*#__PURE__*/_jsx(RotateCcw,{className:\"w-5 h-5\"})})}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".json\",onChange:handleImport,className:\"hidden\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAnalytics(!showAnalytics),className:\"\".concat(darkMode?'bg-blue-600 hover:bg-blue-700':'bg-blue-500 hover:bg-blue-600',\" text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\"),children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Analytics\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{resetForm();setEditingCoffee(null);setShowAddForm(true);scrollToForm();},className:\"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Add Coffee\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-700':'bg-amber-50',\" p-4 rounded-lg transition-colors\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-amber-600\",children:coffees.length}),/*#__PURE__*/_jsx(\"div\",{className:darkMode?'text-gray-300':'text-gray-600',children:\"Total Coffees\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-700':'bg-amber-50',\" p-4 rounded-lg transition-colors\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-amber-600\",children:coffees.filter(c=>c.favorite).length}),/*#__PURE__*/_jsx(\"div\",{className:darkMode?'text-gray-300':'text-gray-600',children:\"Favorites\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-700':'bg-amber-50',\" p-4 rounded-lg transition-colors\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-amber-600\",children:coffees.length>0?(coffees.reduce((sum,c)=>sum+c.tasteRating,0)/coffees.length).toFixed(1):'0'}),/*#__PURE__*/_jsx(\"div\",{className:darkMode?'text-gray-300':'text-gray-600',children:\"Avg Rating\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-700':'bg-amber-50',\" p-4 rounded-lg transition-colors\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:analytics.avgCostPerCup?\"\".concat(analytics.avgCostPerCup,\" \\u20AC\"):'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:darkMode?'text-gray-300':'text-gray-600',children:\"Avg Cost/Cup\"})]})]}),(()=>{const storageInfo=getStorageInfo();return storageInfo&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode?'bg-gray-700':'bg-blue-50',\" p-3 rounded-lg mt-4 border-l-4 border-blue-500\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between flex-wrap gap-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:darkMode?'text-gray-300':'text-gray-700',children:[\"\\uD83D\\uDCBE Data Version: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:storageInfo.version}),\" | Size: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-mono\",children:[storageInfo.sizeKB,\"KB\"]}),\" | Last Saved: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:storageInfo.lastSaved})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs \".concat(darkMode?'text-gray-400':'text-gray-500'),children:[storageInfo.coffeeCount,\" coffees in storage\"]})]})});})()]}),showAnalytics&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-800 text-white':'bg-white',\" rounded-2xl shadow-xl p-6 mb-6 transition-colors\"),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:\"Coffee Analytics & Insights\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-700':'bg-amber-50',\" p-4 rounded-lg mb-6 border-l-4 border-amber-500\"),children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-amber-600 mr-2\",children:\"\\uD83D\\uDCA1\"}),\"Value Score Explained\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:/*#__PURE__*/_jsx(\"strong\",{children:\"Value Score = Taste Rating \\xF7 Cost per Cup\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-300':'text-gray-700'),children:\"Higher scores mean better value for money. A 5-star coffee at \\u20AC0.50/cup (Value: 10.0) offers better value than a 5-star coffee at \\u20AC1.00/cup (Value: 5.0). Scores above 5 are generally good value.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Top Roasters\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:analytics.roasterData,margin:{top:20,right:30,left:20,bottom:80},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:darkMode?'#374151':'#e5e7eb'}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",stroke:darkMode?'#9ca3af':'#6b7280',angle:-45,textAnchor:\"end\",height:80,interval:0,fontSize:12}),/*#__PURE__*/_jsx(YAxis,{stroke:darkMode?'#9ca3af':'#6b7280'}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#f59e0b\",radius:[4,4,0,0]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Average Blend Preference\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{margin:{top:20,right:20,bottom:20,left:20},children:[/*#__PURE__*/_jsx(Pie,{data:analytics.blendData,cx:\"50%\",cy:\"50%\",labelLine:false,outerRadius:80,dataKey:\"value\",children:analytics.blendData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:entry.fill},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(Legend,{verticalAlign:\"bottom\",height:36,formatter:(value,entry)=>\"\".concat(value,\": \").concat(entry.payload.value,\"%\")})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Rating Trends Over Time\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(LineChart,{data:analytics.ratingTrends,margin:{top:20,right:30,left:20,bottom:60},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:darkMode?'#374151':'#e5e7eb'}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",stroke:darkMode?'#9ca3af':'#6b7280',angle:-45,textAnchor:\"end\",height:60,interval:Math.max(0,Math.floor(analytics.ratingTrends.length/10)),fontSize:12}),/*#__PURE__*/_jsx(YAxis,{domain:[0,5],stroke:darkMode?'#9ca3af':'#6b7280'}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"rating\",stroke:\"#f59e0b\",strokeWidth:2,dot:{r:4,fill:'#f59e0b'},name:\"Taste Rating\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"crema\",stroke:\"#8b4513\",strokeWidth:2,dot:{r:4,fill:'#8b4513'},name:\"Crema Rating\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Coffee Origins\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:analytics.originData,margin:{top:20,right:30,left:20,bottom:80},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:darkMode?'#374151':'#e5e7eb'}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"code\",stroke:darkMode?'#9ca3af':'#6b7280',angle:-45,textAnchor:\"end\",height:80,interval:0,fontSize:12}),/*#__PURE__*/_jsx(YAxis,{stroke:darkMode?'#9ca3af':'#6b7280'}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#10b981\",radius:[4,4,0,0]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Roast Level Distribution\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:analytics.roastLevelData,cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref9=>{let{level,count}=_ref9;return\"\".concat(level,\": \").concat(count);},outerRadius:80,dataKey:\"count\",children:analytics.roastLevelData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:entry.fill},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})})]})})]}),analytics.priceAnalysis&&analytics.priceAnalysis.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Cost Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-300':'text-gray-600'),children:[\"Average cost per cup: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-green-600\",children:[analytics.avgCostPerCup,\" EUR\"]})]})}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:analytics.priceAnalysis.slice(0,10),margin:{top:20,right:30,left:60,bottom:80},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:darkMode?'#374151':'#e5e7eb'}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",stroke:darkMode?'#9ca3af':'#6b7280',angle:-45,textAnchor:\"end\",height:80,interval:0,fontSize:12}),/*#__PURE__*/_jsx(YAxis,{stroke:darkMode?'#9ca3af':'#6b7280',label:{value:'Cost per Cup (EUR)',angle:-90,position:'insideLeft'}}),/*#__PURE__*/_jsx(Tooltip,{content:_ref0=>{let{active,payload,label}=_ref0;if(active&&payload&&payload.length){const data=payload[0].payload;return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-800 border-gray-600':'bg-white border-gray-200',\" p-3 rounded-lg shadow-lg border\"),children:[/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-white':'text-gray-900',\" font-medium\"),children:label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-300':'text-gray-600'),children:data.coffee}),/*#__PURE__*/_jsxs(\"p\",{style:{color:payload[0].color},children:[\"Cost: \",data.costPerCup.toFixed(3),\" EUR/cup\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Taste: \",data.tasteRating,\"/5 | Value: \",data.valueScore]})]});}return null;}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"costPerCup\",fill:\"#10b981\",radius:[4,4,0,0]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Grind Settings by Brand\"}),analytics.grindByBrandData&&analytics.grindByBrandData.length>0?/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:analytics.grindByBrandData,margin:{top:20,right:30,left:60,bottom:80},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:darkMode?'#374151':'#e5e7eb'}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"brand\",stroke:darkMode?'#9ca3af':'#6b7280',angle:-45,textAnchor:\"end\",height:80,interval:0,fontSize:12}),/*#__PURE__*/_jsx(YAxis,{stroke:darkMode?'#9ca3af':'#6b7280',label:{value:'Grind Level',angle:-90,position:'insideLeft'}}),/*#__PURE__*/_jsx(Tooltip,{content:_ref1=>{let{active,payload,label}=_ref1;if(active&&payload&&payload.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-800 border-gray-600':'bg-white border-gray-200',\" p-3 rounded-lg shadow-lg border\"),children:[/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-white':'text-gray-900',\" font-medium\"),children:label}),/*#__PURE__*/_jsxs(\"p\",{style:{color:payload[0].color},children:[\"Average Grind: \",payload[0].value]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[payload[0].payload.count,\" coffee\",payload[0].payload.count!==1?'s':'']})]});}return null;}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"avgGrind\",fill:\"#8b4513\",radius:[4,4,0,0]})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No grind data available\"})]})]}),selectedCoffeeForRadar&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"Flavor Profile: \",selectedCoffeeForRadar.roaster,\" - \",selectedCoffeeForRadar.description]}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:600,children:/*#__PURE__*/_jsxs(RadarChart,{data:getRadarData(selectedCoffeeForRadar),margin:{top:50,right:50,bottom:50,left:50},children:[/*#__PURE__*/_jsx(PolarGrid,{stroke:darkMode?'#374151':'#e5e7eb'}),/*#__PURE__*/_jsx(PolarAngleAxis,{dataKey:\"taste\",stroke:darkMode?'#9ca3af':'#6b7280',fontSize:18,tick:{fill:darkMode?'#e5e7eb':'#374151'},className:\"font-medium\"}),/*#__PURE__*/_jsx(PolarRadiusAxis,{domain:[0,5],stroke:darkMode?'#9ca3af':'#6b7280',fontSize:16,tick:{fill:darkMode?'#9ca3af':'#6b7280'}}),/*#__PURE__*/_jsx(Radar,{name:\"Flavor Profile\",dataKey:\"value\",stroke:\"#f59e0b\",fill:\"#f59e0b\",fillOpacity:0.3,strokeWidth:3}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode?'bg-gray-800 text-white':'bg-white',\" rounded-2xl shadow-xl p-6 mb-6 transition-colors\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-5 h-5 absolute left-3 top-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by roaster or description...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setFilterFavorites(!filterFavorites),className:\"px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors \".concat(filterFavorites?'bg-amber-600 text-white':darkMode?'bg-gray-700 text-gray-300 hover:bg-gray-600':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:[/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Favorites\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"px-4 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"Sort by Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rating\",children:\"Sort by Rating\"}),/*#__PURE__*/_jsx(\"option\",{value:\"roaster\",children:\"Sort by Roaster\"}),/*#__PURE__*/_jsx(\"option\",{value:\"value\",children:\"Sort by Value (Best First)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"priceLowHigh\",children:\"Sort by Price (Low to High)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"priceHighLow\",children:\"Sort by Price (High to Low)\"})]})]})]})}),showAddForm&&/*#__PURE__*/_jsxs(\"div\",{ref:formRef,className:\"\".concat(darkMode?'bg-gray-800 text-white':'bg-white',\" rounded-2xl shadow-xl p-6 mb-6 transition-colors\"),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:editingCoffee?'Edit Coffee':'Add New Coffee'}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Roaster\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.roaster,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{roaster:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.description,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{description:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.favorite,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{favorite:e.target.checked})),className:\"rounded text-amber-600 focus:ring-amber-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700'),children:\"Favorite\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.grinded,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{grinded:e.target.checked})),className:\"rounded text-amber-600 focus:ring-amber-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700'),children:\"Pre-grinded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Roast Level\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.roastLevel,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{roastLevel:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"light\",children:\"Light\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium-dark\",children:\"Medium-Dark\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dark\",children:\"Dark\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Your Brewing Method\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.brewingMethod,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{brewingMethod:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\"),children:brewingMethods.map(method=>/*#__PURE__*/_jsxs(\"option\",{value:method.id,children:[method.icon,\" \",method.name]},method.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 \".concat(darkMode?'text-gray-400':'text-gray-500'),children:\"Your preferred brewing method\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Roaster's Recommended Method\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.recommendedMethod,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{recommendedMethod:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\"),children:brewingMethods.map(method=>/*#__PURE__*/_jsxs(\"option\",{value:method.id,children:[method.icon,\" \",method.name]},method.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 \".concat(darkMode?'text-gray-400':'text-gray-500'),children:\"What the roaster suggests (check packaging/website)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Origin Countries\"}),/*#__PURE__*/_jsx(ComboBox,{value:formData.origin,onChange:value=>setFormData(_objectSpread(_objectSpread({},formData),{},{origin:value})),options:commonCountries,placeholder:\"e.g. BR, CO, ET (Brazil, Colombia, Ethiopia)\",type:\"country\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 \".concat(darkMode?'text-gray-400':'text-gray-500'),children:\"Common codes: BR (Brazil), CO (Colombia), ET (Ethiopia), GT (Guatemala), CR (Costa Rica)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Grinder Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"e.g. 12, 15, 10\",value:formData.grindingDegree,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{grindingDegree:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Arabica %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",value:formData.percentArabica,onChange:e=>{const arabica=parseInt(e.target.value)||0;setFormData(_objectSpread(_objectSpread({},formData),{},{percentArabica:arabica,percentRobusta:Math.max(0,100-arabica)}));},className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Robusta %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",value:formData.percentRobusta,onChange:e=>{const robusta=parseInt(e.target.value)||0;setFormData(_objectSpread(_objectSpread({},formData),{},{percentRobusta:robusta,percentArabica:Math.max(0,100-robusta)}));},className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Crema Rating\"}),/*#__PURE__*/_jsx(StarRating,{rating:formData.cremaRating,onRatingChange:rating=>setFormData(_objectSpread(_objectSpread({},formData),{},{cremaRating:rating}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Taste Notes\"}),/*#__PURE__*/_jsx(ComboBox,{value:formData.tasteNotes,onChange:value=>setFormData(_objectSpread(_objectSpread({},formData),{},{tasteNotes:value})),options:commonTasteNotes,placeholder:\"e.g. Chocolate: 3, Nutty: 4, Fruity: 2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Product URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"https://...\",value:formData.url,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{url:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Taste Rating\"}),/*#__PURE__*/_jsx(StarRating,{rating:formData.tasteRating,onRatingChange:rating=>setFormData(_objectSpread(_objectSpread({},formData),{},{tasteRating:rating}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",placeholder:\"e.g. 12.50\",value:formData.price,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{price:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Package Size (g)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"1000\",value:formData.packageSize,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{packageSize:parseInt(e.target.value)||1000})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Currency\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.currency,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{currency:e.target.value})),className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"EUR\",children:\"EUR \\u20AC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD $\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GBP\",children:\"GBP \\xA3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CHF\",children:\"CHF \\u20A3\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Preparation Notes\"}),/*#__PURE__*/_jsx(ComboBox,{value:formData.preparationNotes,onChange:value=>setFormData(_objectSpread(_objectSpread({},formData),{},{preparationNotes:value})),options:commonPreparationNotes,placeholder:\"e.g. Pure espresso, Americano style, Extra sieve\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 \".concat(darkMode?'text-gray-400':'text-gray-500'),children:\"How you prepared this coffee when rating it\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Coffee Group (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.coffeeGroup,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{coffeeGroup:e.target.value})),placeholder:\"Leave empty for auto-grouping\",className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 \".concat(darkMode?'text-gray-400':'text-gray-500'),children:\"Groups related coffees together (auto-generated when copying)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700',\" mb-2\"),children:\"Comment\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.comment,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{comment:e.target.value})),rows:\"3\",placeholder:\"Additional notes, brewing tips, personal thoughts...\",className:\"w-full px-3 py-2 border \".concat(darkMode?'bg-gray-700 border-gray-600 text-white':'border-gray-300',\" rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg transition-colors\",children:editingCoffee?'Update Coffee':'Add Coffee'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddForm(false);setEditingCoffee(null);resetForm();},className:\"\".concat(darkMode?'bg-gray-700 hover:bg-gray-600 text-white':'bg-gray-300 hover:bg-gray-400 text-gray-700',\" px-6 py-2 rounded-lg transition-colors\"),children:\"Cancel\"})]})]})]}),filteredCoffees.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode?'bg-gray-800':'bg-white',\" rounded-2xl shadow-xl p-4 mb-6\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Coffee,{className:\"w-5 h-5 text-amber-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold \".concat(darkMode?'text-white':'text-gray-800'),children:[\"Coffee Collection (\",filteredCoffees.length,\" coffees)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:expandAllRoasters,className:\"flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors \".concat(darkMode?'bg-gray-700 hover:bg-gray-600 text-gray-200':'bg-gray-100 hover:bg-gray-200 text-gray-700'),title:\"Expand all roaster sections\",children:[/*#__PURE__*/_jsx(ChevronUp,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Expand All\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:collapseAllRoasters,className:\"flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors \".concat(darkMode?'bg-gray-700 hover:bg-gray-600 text-gray-200':'bg-gray-100 hover:bg-gray-200 text-gray-700'),title:\"Collapse all roaster sections\",children:[/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Collapse All\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-8\",children:(()=>{// First group by roaster, then by coffeeGroup for variations\nconst roasterGroups=filteredCoffees.reduce((roasters,coffee)=>{const roaster=coffee.roaster.split(' - ')[0]||coffee.roaster;// Get main roaster name\nif(!roasters[roaster])roasters[roaster]=[];roasters[roaster].push(coffee);return roasters;},{});// Sort roasters: favorites first, then alphabetically\nconst sortedRoasters=Object.entries(roasterGroups).sort((_ref10,_ref11)=>{let[roasterA,coffeesA]=_ref10;let[roasterB,coffeesB]=_ref11;const avgRatingA=coffeesA.reduce((sum,c)=>sum+c.tasteRating,0)/coffeesA.length;const avgRatingB=coffeesB.reduce((sum,c)=>sum+c.tasteRating,0)/coffeesB.length;const favCountA=coffeesA.filter(c=>c.favorite).length;const favCountB=coffeesB.filter(c=>c.favorite).length;// Sort by: 1) favorites count, 2) average rating, 3) alphabetically\nif(favCountA!==favCountB)return favCountB-favCountA;if(Math.abs(avgRatingA-avgRatingB)>0.1)return avgRatingB-avgRatingA;return roasterA.localeCompare(roasterB);});return sortedRoasters.map(_ref12=>{let[roasterName,roasterCoffees]=_ref12;// Group coffees within this roaster by coffeeGroup for variations\nconst groupedCoffees=roasterCoffees.reduce((groups,coffee)=>{const group=coffee.coffeeGroup||\"individual-\".concat(coffee.id);if(!groups[group])groups[group]=[];groups[group].push(coffee);return groups;},{});const avgRating=roasterCoffees.reduce((sum,c)=>sum+c.tasteRating,0)/roasterCoffees.length;const favoriteCount=roasterCoffees.filter(c=>c.favorite).length;const isCollapsed=collapsedRoasters[roasterName];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode?'bg-gray-700 hover:bg-gray-600':'bg-gradient-to-r from-amber-100 to-orange-100 hover:from-amber-200 hover:to-orange-200',\" rounded-xl p-4 border-l-4 border-amber-500 cursor-pointer transition-colors\"),onClick:()=>toggleRoasterCollapse(roasterName),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[isCollapsed?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 \".concat(darkMode?'text-gray-300':'text-gray-600')}):/*#__PURE__*/_jsx(ChevronUp,{className:\"w-5 h-5 \".concat(darkMode?'text-gray-300':'text-gray-600')}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold \".concat(darkMode?'text-white':'text-gray-800'),children:[\"\\u2615 \",roasterName]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm px-3 py-1 rounded-full font-medium \".concat(darkMode?'bg-gray-600 text-gray-200':'bg-white text-gray-700'),children:[roasterCoffees.length,\" coffee\",roasterCoffees.length!==1?'s':'']}),favoriteCount>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm px-3 py-1 rounded-full font-medium \".concat(darkMode?'bg-yellow-900 text-yellow-100':'bg-yellow-100 text-yellow-800'),children:[\"\\u2B50 \",favoriteCount,\" favorite\",favoriteCount!==1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(darkMode?'text-gray-300':'text-gray-600'),children:\"Avg Rating:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(StarRating,{rating:Math.round(avgRating),readOnly:true,size:\"small\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 text-sm font-semibold \".concat(darkMode?'text-gray-200':'text-gray-700'),children:avgRating.toFixed(1)})]})]})]})}),!isCollapsed&&/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-6 ml-4\",children:Object.entries(groupedCoffees).map(_ref13=>{let[groupId,coffees]=_ref13;const isGrouped=coffees.length>1&&!groupId.startsWith('individual-');const mainCoffee=coffees[0];// Use first coffee for shared information\nif(isGrouped){// Grouped coffee display: main card + variation sub-cards\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode?'bg-gray-800 text-white':'bg-white',\" rounded-2xl shadow-xl p-6 border-l-4 border-blue-500\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:mainCoffee.roaster}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-medium \".concat(darkMode?'bg-blue-900 text-blue-100':'bg-blue-100 text-blue-800'),children:[\"\\uD83D\\uDCCA \",coffees.length,\" preparations\"]}),mainCoffee.roastLevel&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-medium \".concat(getRoastBadge(mainCoffee.roastLevel).bg,\" \").concat(getRoastBadge(mainCoffee.roastLevel).text),children:getRoastBadge(mainCoffee.roastLevel).label})]}),/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-300':'text-gray-600',\" mb-4\"),children:mainCoffee.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Percent,{className:\"w-4 h-4 text-gray-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[mainCoffee.percentArabica,\"% Arabica / \",mainCoffee.percentRobusta,\"% Robusta\"]})]}),mainCoffee.grindingDegree&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded\",children:[\"Grinder Level: \",mainCoffee.grindingDegree]})}),mainCoffee.price&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\",children:[mainCoffee.price,\" \",mainCoffee.currency||'EUR',\" / \",mainCoffee.packageSize||1000,\"g\"]})})]}),mainCoffee.origin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap items-center gap-1\",children:mainCoffee.origin.split(',').map(code=>{const trimmedCode=code.trim();const country=countryFlags[trimmedCode];const isRegion=['AS','LA','SA'].includes(trimmedCode);return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center\",title:country?country.name:trimmedCode,children:country&&!isRegion?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:country.flag}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs ml-1\",children:trimmedCode})]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\",children:country?country.name:trimmedCode})},code);})})}),mainCoffee.price&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:(()=>{const cost=calculateCostPerCup(mainCoffee);return cost&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(darkMode?'text-gray-400':'text-gray-600'),children:\"Cost per cup: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-green-600\",children:[cost.costPerCup,\" \",cost.currency]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(darkMode?'text-gray-400':'text-gray-600'),children:\"Price per kg: \"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold\",children:[cost.pricePerKg,\" \",cost.currency]})]})]});})()}),(mainCoffee.comment||mainCoffee.url)&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[mainCoffee.url&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(ExternalLink,{className:\"w-4 h-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"a\",{href:mainCoffee.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-sm text-blue-600 hover:text-blue-800 underline\",children:\"View Product Online\"})]}),mainCoffee.comment&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600',\" italic\"),children:mainCoffee.comment})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-4 ml-6\",children:coffees.map(coffee=>{var _coffee$preparationNo;return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode?'bg-gray-700 text-white':'bg-gray-50',\" rounded-xl shadow-md p-4 border-l-4 \").concat((_coffee$preparationNo=coffee.preparationNotes)!==null&&_coffee$preparationNo!==void 0&&_coffee$preparationNo.includes('Pure espresso')?'border-amber-500':'border-green-500'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-3\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold\",children:[\"Preparation #\",coffees.indexOf(coffee)+1]}),coffee.favorite&&/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 text-yellow-400 fill-yellow-400\"})]}),coffee.preparationNotes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700'),children:\"Method: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600',\" italic\"),children:coffee.preparationNotes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs \".concat(darkMode?'text-gray-400':'text-gray-500',\" block mb-1\"),children:\"Crema\"}),/*#__PURE__*/_jsx(StarRating,{rating:coffee.cremaRating,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs \".concat(darkMode?'text-gray-400':'text-gray-500',\" block mb-1\"),children:\"Taste\"}),/*#__PURE__*/_jsx(StarRating,{rating:coffee.tasteRating,readOnly:true})]})]}),(()=>{const valueScore=calculateValueScore(coffee);return valueScore&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 rounded \".concat(darkMode?'bg-amber-900 text-amber-100':'bg-amber-100 text-amber-800'),title:\"Value Score: Taste Rating \\xF7 Cost per Cup. Higher = Better Value!\",children:[\"Value: \",valueScore]})});})(),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Tasted: \",new Date(coffee.cuppingTime).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 ml-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(coffee),className:\"p-1.5 \".concat(darkMode?'text-gray-400 hover:text-amber-400 hover:bg-gray-600':'text-gray-600 hover:text-amber-600 hover:bg-amber-50',\" rounded transition-colors\"),title:\"Edit preparation\",children:/*#__PURE__*/_jsx(Edit3,{className:\"w-3 h-3\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCopy(coffee),className:\"p-1.5 \".concat(darkMode?'text-gray-400 hover:text-blue-400 hover:bg-gray-600':'text-gray-600 hover:text-blue-600 hover:bg-blue-50',\" rounded transition-colors\"),title:\"Copy for new preparation\",children:/*#__PURE__*/_jsx(Copy,{className:\"w-3 h-3\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(coffee.id),className:\"p-1.5 \".concat(darkMode?'text-gray-400 hover:text-red-400 hover:bg-gray-600':'text-gray-600 hover:text-red-600 hover:bg-red-50',\" rounded transition-colors\"),title:\"Delete preparation\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-3 h-3\"})})]})]})},coffee.id);})})]},groupId);}else{var _brewingMethods$find,_brewingMethods$find2,_brewingMethods$find3,_brewingMethods$find4;// Individual coffee display (unchanged)\nconst coffee=mainCoffee;return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(darkMode?'bg-gray-800 text-white':'bg-white',\" rounded-2xl shadow-xl p-6 hover:shadow-2xl transition-all\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:coffee.roaster}),coffee.favorite&&/*#__PURE__*/_jsx(Star,{className:\"w-5 h-5 text-yellow-400 fill-yellow-400\"}),coffee.roastLevel&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-medium \".concat(getRoastBadge(coffee.roastLevel).bg,\" \").concat(getRoastBadge(coffee.roastLevel).text),children:getRoastBadge(coffee.roastLevel).label}),coffee.brewingMethod&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-medium \".concat(darkMode?'bg-blue-900 text-blue-100':'bg-blue-100 text-blue-800'),title:\"Your preferred method\",children:[\"\\uD83D\\uDC64 \",(_brewingMethods$find=brewingMethods.find(m=>m.id===coffee.brewingMethod))===null||_brewingMethods$find===void 0?void 0:_brewingMethods$find.icon,\" \",((_brewingMethods$find2=brewingMethods.find(m=>m.id===coffee.brewingMethod))===null||_brewingMethods$find2===void 0?void 0:_brewingMethods$find2.name)||coffee.brewingMethod]}),coffee.recommendedMethod&&coffee.recommendedMethod!==coffee.brewingMethod&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 rounded-full font-medium \".concat(darkMode?'bg-green-900 text-green-100':'bg-green-100 text-green-800'),title:\"Roaster's recommendation\",children:[\"\\uD83C\\uDFEA \",(_brewingMethods$find3=brewingMethods.find(m=>m.id===coffee.recommendedMethod))===null||_brewingMethods$find3===void 0?void 0:_brewingMethods$find3.icon,\" \",((_brewingMethods$find4=brewingMethods.find(m=>m.id===coffee.recommendedMethod))===null||_brewingMethods$find4===void 0?void 0:_brewingMethods$find4.name)||coffee.recommendedMethod]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(darkMode?'text-gray-300':'text-gray-600',\" mb-4\"),children:coffee.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Percent,{className:\"w-4 h-4 text-gray-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[coffee.percentArabica,\"% Arabica / \",coffee.percentRobusta,\"% Robusta\"]})]}),coffee.grindingDegree&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded\",children:[\"Grinder Level: \",coffee.grindingDegree]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:new Date(coffee.cuppingTime).toLocaleDateString()})]}),coffee.price&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\",children:[coffee.price,\" \",coffee.currency||'EUR',\" / \",coffee.packageSize||1000,\"g\"]})})]}),coffee.origin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap items-center gap-1\",children:coffee.origin.split(',').map(code=>{const trimmedCode=code.trim();const country=countryFlags[trimmedCode];const isRegion=['AS','LA','SA'].includes(trimmedCode);return/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center\",title:country?country.name:trimmedCode,children:country&&!isRegion?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl\",children:country.flag}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs ml-1\",children:trimmedCode})]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\",children:country?country.name:trimmedCode})},code);})})}),coffee.tasteNotes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700'),children:\"Taste: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600'),children:coffee.tasteNotes}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCoffeeForRadar(coffee),className:\"ml-2 text-amber-600 hover:text-amber-700 text-sm\",title:\"Show flavor profile\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"w-4 h-4 inline\"})})]}),coffee.preparationNotes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(darkMode?'text-gray-300':'text-gray-700'),children:\"Preparation: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600',\" italic\"),children:coffee.preparationNotes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-500',\" block\"),children:\"Crema\"}),/*#__PURE__*/_jsx(StarRating,{rating:coffee.cremaRating,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-500',\" block\"),children:\"Taste\"}),/*#__PURE__*/_jsx(StarRating,{rating:coffee.tasteRating,readOnly:true})]}),(()=>{const cost=calculateCostPerCup(coffee);const valueScore=calculateValueScore(coffee);return cost&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-500',\" block\"),children:\"Cost/Cup\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-green-600\",children:[cost.costPerCup,\" \",cost.currency]}),valueScore&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs px-2 py-1 rounded \".concat(darkMode?'bg-amber-900 text-amber-100':'bg-amber-100 text-amber-800'),title:\"Value Score: Taste Rating \\xF7 Cost per Cup. Higher = Better Value!\",children:[\"Value: \",valueScore]})]})]});})()]}),(coffee.comment||coffee.url)&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[coffee.url&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(ExternalLink,{className:\"w-4 h-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"a\",{href:coffee.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-sm text-blue-600 hover:text-blue-800 underline\",children:\"View Product Online\"})]}),coffee.comment&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(darkMode?'text-gray-400':'text-gray-600',\" italic\"),children:coffee.comment})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2 ml-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(coffee),className:\"p-2 \".concat(darkMode?'text-gray-400 hover:text-amber-400 hover:bg-gray-700':'text-gray-600 hover:text-amber-600 hover:bg-amber-50',\" rounded-lg transition-colors\"),title:\"Edit coffee\",children:/*#__PURE__*/_jsx(Edit3,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCopy(coffee),className:\"p-2 \".concat(darkMode?'text-gray-400 hover:text-blue-400 hover:bg-gray-700':'text-gray-600 hover:text-blue-600 hover:bg-blue-50',\" rounded-lg transition-colors\"),title:\"Copy for different preparation\",children:/*#__PURE__*/_jsx(Copy,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(coffee.id),className:\"p-2 \".concat(darkMode?'text-gray-400 hover:text-red-400 hover:bg-gray-700':'text-gray-600 hover:text-red-600 hover:bg-red-50',\" rounded-lg transition-colors\"),title:\"Delete coffee\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})},coffee.id);}})})]},roasterName);});})()}),filteredCoffees.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(darkMode?'bg-gray-800':'bg-white',\" rounded-2xl shadow-xl p-12 text-center\"),children:[/*#__PURE__*/_jsx(Coffee,{className:\"w-16 h-16 \".concat(darkMode?'text-gray-600':'text-gray-300',\" mx-auto mb-4\")}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold \".concat(darkMode?'text-gray-300':'text-gray-600',\" mb-2\"),children:\"No coffees found\"}),/*#__PURE__*/_jsx(\"p\",{className:darkMode?'text-gray-400':'text-gray-500',children:searchTerm||filterFavorites?'Try adjusting your search or filters':'Add your first coffee to get started!'})]})]})});};export default CoffeeTracker;","map":{"version":3,"names":["React","useState","useEffect","useRef","Plus","Coffee","Star","Search","Trash2","Edit3","Calendar","Percent","ExternalLink","BarChart3","Moon","Sun","Download","Upload","FileText","RefreshCw","RotateCcw","Copy","ChevronDown","ChevronUp","Check","LineChart","Line","BarChart","Bar","RadarChart","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Radar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","jsPDF","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CoffeeTracker","coffees","setCoffees","showAddForm","setShowAddForm","editingCoffee","setEditingCoffee","searchTerm","setSearchTerm","filterFavorites","setFilterFavorites","sortBy","setSortBy","darkMode","setDarkMode","showAnalytics","setShowAnalytics","selectedCoffeeForRadar","setSelectedCoffeeForRadar","collapsedRoasters","setCollapsedRoasters","saved","localStorage","getItem","JSON","parse","fileInputRef","formRef","brewingMethods","id","name","icon","commonCountries","commonTasteNotes","commonPreparationNotes","defaultCoffees","Date","DATA_VERSION","loadedData","loadedVersion","parsedData","coffeesWithDates","map","coffee","_objectSpread","cuppingTime","console","log","error","setItem","savedDarkMode","length","stringify","toISOString","alert","toggleRoasterCollapse","roasterName","prev","expandAllRoasters","collapseAllRoasters","roasterNames","Set","filteredCoffees","roaster","split","allCollapsed","forEach","scrollToForm","setTimeout","current","scrollIntoView","behavior","block","inline","countryFlags","flag","getRoastBadge","level","bg","text","label","parseTasteProfile","tasteNotes","profile","chocolate","nutty","fruity","floral","earthy","spicy","sweet","acidic","notes","toLowerCase","includes","Math","max","calculateCostPerCup","price","packageSize","pricePerGram","parseFloat","gramsPerCup","brewingMethod","costPerCup","toFixed","pricePerKg","currency","calculateValueScore","cost","tasteRating","valueScore","getAnalyticsData","roasterCounts","reduce","acc","trim","roasterData","Object","entries","_ref","count","sort","a","b","slice","totalCoffees","avgArabica","sum","c","percentArabica","avgRobusta","blendData","value","round","fill","ratingTrends","index","date","toLocaleDateString","month","year","rating","crema","cremaRating","roastLevelCounts","roastLevel","roastLevelData","_ref2","charAt","toUpperCase","originCounts","origin","countries","country","originData","_ref3","_countryFlags$code","_countryFlags$code2","code","grindByBrand","filter","grindingDegree","isNaN","parseInt","brand","grind","total","grinds","push","grindByBrandData","_ref4","data","avgGrind","minGrind","min","maxGrind","coffeesWithPrice","priceAnalysis","description","avgCostPerCup","formData","setFormData","favorite","grinded","grindingTime","percentRobusta","url","comment","recommendedMethod","preparationNotes","coffeeGroup","resetForm","handleSubmit","newCoffee","now","handleEdit","handleDelete","handleCopy","concat","replace","updatedCoffees","handleExport","dataToExport","version","exportDate","jsonString","blob","Blob","type","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handlePDFExport","doc","pageHeight","internal","pageSize","height","yPosition","setFontSize","setFont","undefined","avgRating","sortedCoffees","addPage","stars","repeat","method","find","m","recMethod","origins","join","maxWidth","lines","splitTextToSize","line","totalPages","getNumberOfPages","i","setPage","width","save","handleResetToDefaults","storageInfo","getStorageInfo","confirmText","userInput","prompt","sizeKB","window","confirm","removeItem","handleForceRefresh","migratedData","lastSaved","size","toLocaleString","coffeeCount","handleImport","event","file","target","files","reader","FileReader","onload","e","importedData","result","Array","isArray","importedCoffees","random","shouldReplace","maxId","mergedCoffees","readAsText","matchesSearch","matchesFavorite","localeCompare","costA","costB","costA2","costB2","valueA","valueB","StarRating","_ref5","onRatingChange","readOnly","sizeClass","className","children","star","onClick","ComboBox","_ref6","onChange","options","placeholder","isOpen","setIsOpen","inputValue","setInputValue","dropdownRef","handleClickOutside","contains","addEventListener","removeEventListener","handleInputChange","newValue","handleOptionSelect","option","filteredOptions","formatCountryDisplay","countryCode","ref","onFocus","getRadarData","_ref7","taste","analytics","CustomTooltip","_ref8","active","payload","entry","style","color","dataKey","title","_fileInputRef$current","accept","margin","top","right","left","bottom","strokeDasharray","stroke","angle","textAnchor","interval","fontSize","content","radius","cx","cy","labelLine","outerRadius","verticalAlign","formatter","floor","domain","strokeWidth","dot","r","_ref9","position","_ref0","_ref1","tick","fillOpacity","required","checked","arabica","robusta","step","rows","roasterGroups","roasters","sortedRoasters","_ref10","_ref11","roasterA","coffeesA","roasterB","coffeesB","avgRatingA","avgRatingB","favCountA","favCountB","abs","_ref12","roasterCoffees","groupedCoffees","groups","group","favoriteCount","isCollapsed","_ref13","groupId","isGrouped","startsWith","mainCoffee","trimmedCode","isRegion","rel","_coffee$preparationNo","indexOf","_brewingMethods$find","_brewingMethods$find2","_brewingMethods$find3","_brewingMethods$find4"],"sources":["/home/miraculix/coffee-tracker/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Plus, Coffee, Star, Search, Trash2, Edit3, Calendar, Percent, ExternalLink, BarChart3, Moon, Sun, Download, Upload, FileText, RefreshCw, RotateCcw, Copy, ChevronDown, ChevronUp, Check } from 'lucide-react';\nimport { LineChart, Line, BarChart, Bar, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\nimport jsPDF from 'jspdf';\n\nconst CoffeeTracker = () => {\n  const [coffees, setCoffees] = useState([]);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [editingCoffee, setEditingCoffee] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterFavorites, setFilterFavorites] = useState(false);\n  const [sortBy, setSortBy] = useState('date');\n  const [darkMode, setDarkMode] = useState(true);\n  const [showAnalytics, setShowAnalytics] = useState(false);\n  const [selectedCoffeeForRadar, setSelectedCoffeeForRadar] = useState(null);\n  const [collapsedRoasters, setCollapsedRoasters] = useState(() => {\n    const saved = localStorage.getItem('collapsedRoasters');\n    return saved ? JSON.parse(saved) : {};\n  });\n  const fileInputRef = useRef(null);\n  const formRef = useRef(null);\n\n  // Brewing methods\n  const brewingMethods = [\n    { id: 'espresso', name: 'Espresso/Portafilter (Siebtr√§ger)', icon: '‚òï' },\n    { id: 'v60', name: 'V60 Pour Over', icon: 'üîª' },\n    { id: 'chemex', name: 'Chemex', icon: '‚è≥' },\n    { id: 'frenchpress', name: 'French Press', icon: 'ü´ñ' },\n    { id: 'aeropress', name: 'AeroPress', icon: 'üíâ' },\n    { id: 'moka', name: 'Moka Pot', icon: 'ü´ó' },\n    { id: 'dripper', name: 'Dripper', icon: '‚òï' },\n    { id: 'filter', name: 'Filter Coffee', icon: 'üìÑ' }\n  ];\n\n  // Common options for dropdowns\n  const commonCountries = [\n    'BR', 'CO', 'ET', 'GT', 'HN', 'JM', 'KE', 'PE', 'UG', 'VE', 'CR', 'EC', 'MX', 'NI', 'PA', 'RW', 'TZ', 'YE', 'ID', 'IN', 'VN', 'PG', 'HI'\n  ];\n\n  const commonTasteNotes = [\n    'Chocolate: 3, Nutty: 4, Fruity: 2, Floral: 1, Spicy: 2',\n    'Chocolate: 4, Nutty: 3, Caramel: 3, Vanilla: 2',\n    'Fruity: 4, Citrus: 3, Berry: 4, Floral: 2',\n    'Chocolate: 5, Nutty: 4, Earthy: 3, Roasted: 4',\n    'Caramel: 4, Vanilla: 3, Sweet: 4, Smooth: 3',\n    'Berry: 4, Wine: 3, Fruity: 5, Acidic: 3',\n    'Earthy: 4, Herbal: 3, Woody: 3, Bold: 4',\n    'Citrus: 4, Bright: 4, Clean: 3, Light: 3',\n    'Spicy: 3, Peppery: 2, Complex: 4, Rich: 4'\n  ];\n\n  const commonPreparationNotes = [\n    'Pure espresso',\n    '18g dose stretched to 30 seconds - Americano style',\n    'Extra fine grind for stronger extraction',\n    'Coarser grind for smoother taste', \n    'Used extra sieve (sieb) for more crema',\n    'Double shot extraction',\n    'Single shot, concentrated',\n    'Medium grind, normal extraction',\n    'Pre-infusion for 10 seconds',\n    'Temperature adjusted to 90¬∞C',\n    'Temperature adjusted to 95¬∞C'\n  ];\n\n  // Default sample data\n  const defaultCoffees = [\n      {\n        \"id\": 17,\n        \"roaster\": \"DieR√∂ster - Suchan Bologna\",\n        \"description\": \"Leicht fruchtig, schokoladig\",\n        \"favorite\": true,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"12\",\n        \"percentArabica\": 90,\n        \"percentRobusta\": 10,\n        \"cuppingTime\": new Date(\"2023-06-10 14:32:49\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"tasteNotes\": \"light fruity, chocolate, balanced, bitter chocolate notes\",\n        \"url\": \"https://www.dieroester.at/roester/suchan/bologna\",\n        \"comment\": \"90/10 Mischung aus Brasilien, Indien, √Ñthiopien, Nicaragua\",\n        \"origin\": \"BR,IN,ET,NI\",\n        \"roastLevel\": \"medium-dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"43.20\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"recommendedMethod\": \"espresso\"\n      },\n      {\n        \"id\": 11,\n        \"roaster\": \"DieR√∂ster - Suchan Palermo\",\n        \"description\": \"schokoladig nussig holzig\",\n        \"favorite\": true,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"15\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2023-03-15 21:48:47\"),\n        \"cremaRating\": 5,\n        \"tasteRating\": 5,\n        \"tasteNotes\": \"nutty, woody, chocolate, very low acidity\",\n        \"url\": \"https://www.dieroester.at/roester/suchan/palermo\",\n        \"comment\": \"Parade-Espresso f√ºr Leute, die viel Aroma und wenig S√§ure m√∂chten\",\n        \"origin\": \"IT\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"45.60\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"recommendedMethod\": \"espresso\"\n      },\n      {\n        \"id\": 20,\n        \"roaster\": \"Lavazza\",\n        \"description\": \"Barista intenso\",\n        \"favorite\": true,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"10\",\n        \"percentArabica\": 50,\n        \"percentRobusta\": 50,\n        \"cuppingTime\": new Date(\"2024-01-10 19:03:35\"),\n        \"cremaRating\": 5,\n        \"tasteRating\": 5,\n        \"tasteNotes\": \"cocoa, wood, hazelnut, full body, intense aftertaste\",\n        \"url\": \"https://www.lavazza.com/en/coffee-beans/espresso-barista-intenso\",\n        \"comment\": \"Intensity 9/10, perfect for espresso and moka\",\n        \"origin\": \"BR,AS\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"19.99\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"recommendedMethod\": \"espresso\"\n      },\n      {\n        \"id\": 19,\n        \"roaster\": \"Lavazza\",\n        \"description\": \"Espresso Italiano Cremoso\",\n        \"favorite\": true,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"9\",\n        \"percentArabica\": 30,\n        \"percentRobusta\": 70,\n        \"cuppingTime\": new Date(\"2023-10-15 12:29:58\"),\n        \"cremaRating\": 5,\n        \"tasteRating\": 5,\n        \"tasteNotes\": \"chocolate, spices, cocoa, long-lasting crema\",\n        \"url\": \"https://www.lavazza.com/en/coffee/coffee-beans/espresso-cremoso-1-kg.html\",\n        \"comment\": \"R√∂stgrad mittel, Intensity 8/10, from Latin America and Southeast Asia\",\n        \"origin\": \"LA,AS\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"16.49\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"recommendedMethod\": \"espresso\"\n      },\n      {\n        \"id\": 21,\n        \"roaster\": \"Lavazza\",\n        \"description\": \"Gran Cremoso\",\n        \"favorite\": true,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"19\",\n        \"percentArabica\": 70,\n        \"percentRobusta\": 30,\n        \"cuppingTime\": new Date(\"2024-03-23 07:41:56\"),\n        \"cremaRating\": 4,\n        \"tasteRating\": 4,\n        \"tasteNotes\": \"chocolate, dried fruits, balanced, well-rounded\",\n        \"url\": \"https://www.lavazza.com\",\n        \"comment\": \"South America and Southeast Asia blend\",\n        \"origin\": \"SA,AS\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"26.99\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"recommendedMethod\": \"espresso\"\n      },\n      {\n        \"id\": 9,\n        \"roaster\": \"220 Grad\",\n        \"description\": \"Guatemala La Labor\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"15\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2020-07-11 18:02:56\"),\n        \"cremaRating\": 4,\n        \"tasteRating\": 4,\n        \"tasteNotes\": \"almonds, pecans, dried fruits, milk chocolate, lively acidity\",\n        \"url\": \"https://www.220grad.com/produkt/guatemala-la-labor-espresso-roestung/\",\n        \"comment\": \"Red Bourbon variety, Finca La Labor, 1520m altitude\",\n        \"origin\": \"GT\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"v60\",\n        \"price\": \"38.30\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 18,\n        \"roaster\": \"220 Grad\",\n        \"description\": \"Guatemala Single Region Robusta\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"5\",\n        \"percentArabica\": 0,\n        \"percentRobusta\": 100,\n        \"cuppingTime\": new Date(\"2023-08-18 08:14:24\"),\n        \"cremaRating\": 5,\n        \"tasteRating\": 3,\n        \"tasteNotes\": \"creamy, sweet grain, hazelnut, walnut, dark caramel, cinnamon, lemongrass\",\n        \"url\": \"https://www.220grad.com/produkt/guatemala-robusta/\",\n        \"comment\": \"Finca Santa Isabel, biodynamic cultivation, 1400m altitude\",\n        \"origin\": \"GT\",\n        \"roastLevel\": \"medium-dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"34.20\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 8,\n        \"roaster\": \"220 Grad\",\n        \"description\": \"Selektion Eins\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"2,8\",\n        \"grindingDegree\": \"3\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2020-05-12 13:08:43\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"tasteNotes\": \"\",\n        \"url\": \"https://www.220grad.com\",\n        \"comment\": \"\",\n        \"origin\": \"\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"39.20\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 12,\n        \"roaster\": \"Bohnendealer - Amicizia Espresso\",\n        \"description\": \"schokoladig nussig kr√§ftig samtig\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"18\",\n        \"percentArabica\": 26,\n        \"percentRobusta\": 74,\n        \"cuppingTime\": new Date(\"2023-04-07 20:07:06\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"tasteNotes\": \"dark chocolate, spicy, full-bodied, velvety, no acidity\",\n        \"url\": \"https://www.bohnendealer.coffee/collections/coffee/products/amicizia-espresso\",\n        \"comment\": \"Neapolitan dark roast from 7 origins: India, Uganda, Costa Rica, Colombia, El Salvador, Brazil, Ethiopia\",\n        \"origin\": \"IN,UG,CR,CO,SV,BR,ET\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"31.90\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 14,\n        \"roaster\": \"Bohnendealer - Malabar\",\n        \"description\": \"schokoladig nussig mild samtig\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"11\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2023-05-07 09:02:11\"),\n        \"cremaRating\": 1,\n        \"tasteRating\": 1,\n        \"tasteNotes\": \"chocolate, nutty, sweet, monsoon processed\",\n        \"url\": \"https://www.bohnendealer.coffee/products/monsooned-malabar-espresso\",\n        \"comment\": \"Monsooned process creates unique flavor\",\n        \"origin\": \"IN\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"33.80\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 13,\n        \"roaster\": \"Bohnendealer - Paris\",\n        \"description\": \"dunkel w√ºrzig rassig kr√§frig\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"11\",\n        \"percentArabica\": 60,\n        \"percentRobusta\": 40,\n        \"cuppingTime\": new Date(\"2023-04-07 20:17:36\"),\n        \"cremaRating\": 2.5,\n        \"tasteRating\": 2.5,\n        \"tasteNotes\": \"dark, spicy, chocolate notes, full body\",\n        \"url\": \"https://www.bohnendealer.coffee/products/paris-espresso-premium-slow-roast-kaffee\",\n        \"comment\": \"French roast style, from Ecuador, Ethiopia and India\",\n        \"origin\": \"EC,ET,IN\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"31.90\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 15,\n        \"roaster\": \"Bohnendealer - Siena\",\n        \"description\": \"dunkel schokoladig kr√§ftig\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"13\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2023-05-14 10:41:28\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"tasteNotes\": \"dark chocolate, Italian style, traditional\",\n        \"url\": \"https://www.bohnendealer.coffee/products/siena-espresso\",\n        \"comment\": \"Hommage to Italian coffee culture\",\n        \"origin\": \"IT\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"31.90\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 3,\n        \"roaster\": \"Dallmayr\",\n        \"description\": \"Caffe Crema Perfetto\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"7\",\n        \"percentArabica\": 70,\n        \"percentRobusta\": 30,\n        \"cuppingTime\": new Date(\"2019-05-29 14:30:01\"),\n        \"cremaRating\": 0,\n        \"tasteRating\": 0,\n        \"comment\": \"\",\n        \"origin\": \"\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"18.48\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 2,\n        \"roaster\": \"Dallmayr\",\n        \"description\": \"d'Oro Intensa\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"3\",\n        \"grindingDegree\": \"3\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2019-04-10 14:04:36\"),\n        \"cremaRating\": 5,\n        \"tasteRating\": 4,\n        \"comment\": \"sehr stark\",\n        \"origin\": \"\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"15.49\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 4,\n        \"roaster\": \"Dallmayr\",\n        \"description\": \"Espresso intenso\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"7\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2019-05-29 14:32:33\"),\n        \"cremaRating\": 5,\n        \"tasteRating\": 4,\n        \"comment\": \"erdig\",\n        \"origin\": \"\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"18.99\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 16,\n        \"roaster\": \"DieR√∂ster - Kaffee vom See\",\n        \"description\": \"Uganda Indonesien\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"21\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2023-06-08 08:45:36\"),\n        \"cremaRating\": 1,\n        \"tasteRating\": 1,\n        \"comment\": \"\",\n        \"origin\": \"UG,ID\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"33.30\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 25,\n        \"roaster\": \"Eduscho\",\n        \"description\": \"Espresso Intenso\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"8\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2025-06-04 14:18:08\"),\n        \"cremaRating\": 1,\n        \"tasteRating\": 2,\n        \"comment\": \"erdig ist nicht meins\",\n        \"origin\": \"\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"16.99\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"18g dose stretched to 30 seconds - Americano style + extra fine sieve for more crema\"\n      },\n      {\n        \"id\": 1,\n        \"roaster\": \"Happy Coffee\",\n        \"description\": \"Sidamo Espresso\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"7\",\n        \"grindingDegree\": \"7\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2019-03-21 14:47:03\"),\n        \"cremaRating\": 5,\n        \"tasteRating\": 4,\n        \"comment\": \"Als Espresso sehr gut und stark.\",\n        \"origin\": \"ET\",\n        \"roastLevel\": \"medium-dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"24.90\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 7,\n        \"roaster\": \"Hrovat\",\n        \"description\": \"B√ºrobohne\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"3\",\n        \"grindingDegree\": \"3\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2019-11-25 14:57:16\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"comment\": \"etwas s√§uerlich\",\n        \"origin\": \"AT\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"28.00\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 10,\n        \"roaster\": \"Hrovat\",\n        \"description\": \"Hallstattbohne\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"3\",\n        \"grindingDegree\": \"7\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2020-12-15 08:38:09\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"comment\": \"ist mir zu bitter\",\n        \"origin\": \"AT\",\n        \"roastLevel\": \"medium-dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"28.00\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 6,\n        \"roaster\": \"Hrovat\",\n        \"description\": \"Kaiserbohne\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"3\",\n        \"grindingDegree\": \"3\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2019-11-19 14:00:10\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"comment\": \"\",\n        \"origin\": \"AT\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"32.00\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      },\n      {\n        \"id\": 22,\n        \"roaster\": \"Tchibo\",\n        \"description\": \"Barista Espresso\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"19\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2024-05-01 10:25:19\"),\n        \"cremaRating\": 2.5,\n        \"tasteRating\": 2.5,\n        \"tasteNotes\": \"nutty, golden crema, Brazilian highlands\",\n        \"url\": \"https://www.tchibo.de/products/280387747392/barista-espresso\",\n        \"comment\": \"Sehr wenig S√§ure, 100% Fairtrade, drum roasted\",\n        \"origin\": \"BR\",\n        \"roastLevel\": \"medium\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"19.99\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"recommendedMethod\": \"espresso\"\n      },\n      {\n        \"id\": 23,\n        \"roaster\": \"Tchibo\",\n        \"description\": \"Barista Espresso Dark\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"10\",\n        \"percentArabica\": 70,\n        \"percentRobusta\": 30,\n        \"cuppingTime\": new Date(\"2024-06-22 11:33:01\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"tasteNotes\": \"roasted nuts, velvety dark crema, intense\",\n        \"url\": \"https://www.tchibo.de\",\n        \"comment\": \"India and Brazil blend, dark roast\",\n        \"origin\": \"IN,BR\",\n        \"roastLevel\": \"dark\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"espresso\",\n        \"price\": \"22.99\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\",\n        \"recommendedMethod\": \"espresso\"\n      },\n      {\n        \"id\": 24,\n        \"roaster\": \"Tchibo\",\n        \"description\": \"Cafe Crema Barista\",\n        \"favorite\": false,\n        \"grinded\": false,\n        \"grindingTime\": \"\",\n        \"grindingDegree\": \"13\",\n        \"percentArabica\": 100,\n        \"percentRobusta\": 0,\n        \"cuppingTime\": new Date(\"2024-06-22 11:33:37\"),\n        \"cremaRating\": 3,\n        \"tasteRating\": 3,\n        \"tasteNotes\": \"mild, red berries, velvety crema\",\n        \"url\": \"https://tchibo.us/pages/barista-coffees\",\n        \"comment\": \"gut zum verd√ºnnen, geschmacklich fad, gut vertr√§glich, South American beans\",\n        \"origin\": \"SA\",\n        \"roastLevel\": \"light\",\n        \"brewingMethod\": \"espresso\",\n        \"recommendedMethod\": \"filter\",\n        \"price\": \"14.99\",\n        \"packageSize\": 1000,\n        \"currency\": \"EUR\",\n        \"preparationNotes\": \"Pure espresso\"\n      }\n    ];\n\n  // Data version for migration management\n  const DATA_VERSION = '2.1';\n  \n  // Load data from localStorage on mount\n  useEffect(() => {\n    const loadedData = localStorage.getItem('coffeeTrackerData');\n    const loadedVersion = localStorage.getItem('coffeeTrackerVersion');\n    \n    if (loadedData && loadedVersion === DATA_VERSION) {\n      try {\n        const parsedData = JSON.parse(loadedData);\n        // Convert date strings back to Date objects\n        const coffeesWithDates = parsedData.map(coffee => ({\n          ...coffee,\n          cuppingTime: new Date(coffee.cuppingTime)\n        }));\n        setCoffees(coffeesWithDates);\n        console.log('‚úÖ Loaded existing data from localStorage');\n      } catch (error) {\n        console.error('‚ùå Error loading data from localStorage:', error);\n        // Fall back to default data if there's an error\n        setCoffees(defaultCoffees);\n        localStorage.setItem('coffeeTrackerVersion', DATA_VERSION);\n      }\n    } else {\n      // No saved data or version mismatch - use updated default data\n      console.log('üîÑ Using fresh default data (version mismatch or first run)');\n      setCoffees(defaultCoffees);\n      localStorage.setItem('coffeeTrackerVersion', DATA_VERSION);\n    }\n\n    // Load dark mode preference\n    const savedDarkMode = localStorage.getItem('coffeeTrackerDarkMode');\n    if (savedDarkMode !== null) {\n      setDarkMode(JSON.parse(savedDarkMode));\n    }\n  }, []);\n\n  // Save data to localStorage whenever coffees change\n  useEffect(() => {\n    if (coffees.length > 0) {\n      try {\n        localStorage.setItem('coffeeTrackerData', JSON.stringify(coffees));\n        localStorage.setItem('coffeeTrackerVersion', DATA_VERSION);\n        localStorage.setItem('coffeeTrackerLastSaved', new Date().toISOString());\n        console.log('üíæ Data saved to localStorage');\n      } catch (error) {\n        console.error('‚ùå Error saving to localStorage:', error);\n        if (error.name === 'QuotaExceededError') {\n          alert('Storage quota exceeded! Consider exporting your data.');\n        }\n      }\n    }\n  }, [coffees]);\n\n  // Save dark mode preference\n  useEffect(() => {\n    localStorage.setItem('coffeeTrackerDarkMode', JSON.stringify(darkMode));\n  }, [darkMode]);\n\n  // Save collapsed roasters state\n  useEffect(() => {\n    localStorage.setItem('collapsedRoasters', JSON.stringify(collapsedRoasters));\n  }, [collapsedRoasters]);\n\n  // Toggle roaster collapse state\n  const toggleRoasterCollapse = (roasterName) => {\n    setCollapsedRoasters(prev => ({\n      ...prev,\n      [roasterName]: !prev[roasterName]\n    }));\n  };\n\n  // Expand all roasters\n  const expandAllRoasters = () => {\n    setCollapsedRoasters({});\n  };\n\n  // Collapse all roasters\n  const collapseAllRoasters = () => {\n    const roasterNames = [...new Set(filteredCoffees.map(coffee => \n      coffee.roaster.split(' - ')[0] || coffee.roaster\n    ))];\n    const allCollapsed = {};\n    roasterNames.forEach(name => {\n      allCollapsed[name] = true;\n    });\n    setCollapsedRoasters(allCollapsed);\n  };\n\n  // Scroll to form when editing/copying\n  const scrollToForm = () => {\n    setTimeout(() => {\n      if (formRef.current) {\n        formRef.current.scrollIntoView({ \n          behavior: 'smooth', \n          block: 'start',\n          inline: 'nearest'\n        });\n      }\n    }, 100); // Small delay to ensure form is rendered\n  };\n\n  // Country codes mapping with names\n  const countryFlags = {\n    'BR': { flag: 'üáßüá∑', name: 'Brazil' },\n    'IN': { flag: 'üáÆüá≥', name: 'India' },\n    'ET': { flag: 'üá™üáπ', name: 'Ethiopia' },\n    'NI': { flag: 'üá≥üáÆ', name: 'Nicaragua' },\n    'IT': { flag: 'üáÆüáπ', name: 'Italy' },\n    'GT': { flag: 'üá¨üáπ', name: 'Guatemala' },\n    'UG': { flag: 'üá∫üá¨', name: 'Uganda' },\n    'CR': { flag: 'üá®üá∑', name: 'Costa Rica' },\n    'CO': { flag: 'üá®üá¥', name: 'Colombia' },\n    'SV': { flag: 'üá∏üáª', name: 'El Salvador' },\n    'EC': { flag: 'üá™üá®', name: 'Ecuador' },\n    'ID': { flag: 'üáÆüá©', name: 'Indonesia' },\n    'AT': { flag: 'üá¶üáπ', name: 'Austria' },\n    'AS': { flag: 'üåè', name: 'Asia' },\n    'LA': { flag: 'üåé', name: 'Latin America' },\n    'SA': { flag: 'üåé', name: 'South America' }\n  };\n\n  // Roast level badge colors and text\n  const getRoastBadge = (level) => {\n    switch(level) {\n      case 'light':\n        return { bg: 'bg-yellow-100 dark:bg-yellow-900', text: 'text-yellow-800 dark:text-yellow-100', label: 'Light Roast' };\n      case 'medium':\n        return { bg: 'bg-amber-100 dark:bg-amber-900', text: 'text-amber-800 dark:text-amber-100', label: 'Medium Roast' };\n      case 'medium-dark':\n        return { bg: 'bg-orange-100 dark:bg-orange-900', text: 'text-orange-800 dark:text-orange-100', label: 'Medium-Dark' };\n      case 'dark':\n        return { bg: 'bg-stone-200 dark:bg-stone-800', text: 'text-stone-800 dark:text-stone-100', label: 'Dark Roast' };\n      default:\n        return { bg: 'bg-gray-100 dark:bg-gray-800', text: 'text-gray-800 dark:text-gray-100', label: 'Unknown' };\n    }\n  };\n\n  // Parse taste notes for radar chart\n  const parseTasteProfile = (tasteNotes) => {\n    const profile = {\n      chocolate: 0,\n      nutty: 0,\n      fruity: 0,\n      floral: 0,\n      earthy: 0,\n      spicy: 0,\n      sweet: 0,\n      acidic: 0\n    };\n\n    if (!tasteNotes) return profile;\n\n    const notes = tasteNotes.toLowerCase();\n    \n    // Score each attribute based on keywords - using incremental scoring\n    if (notes.includes('chocolate') || notes.includes('cocoa') || notes.includes('cacao')) profile.chocolate = 4;\n    if (notes.includes('dark chocolate')) profile.chocolate = 5;\n    \n    if (notes.includes('nutty') || notes.includes('nut')) profile.nutty = 3;\n    if (notes.includes('almond')) profile.nutty = Math.max(profile.nutty, 4);\n    if (notes.includes('hazelnut')) profile.nutty = Math.max(profile.nutty, 4);\n    if (notes.includes('walnut')) profile.nutty = Math.max(profile.nutty, 4);\n    if (notes.includes('pecan')) profile.nutty = Math.max(profile.nutty, 4);\n    \n    if (notes.includes('fruity') || notes.includes('fruit')) profile.fruity = 4;\n    if (notes.includes('berry') || notes.includes('berries')) profile.fruity = Math.max(profile.fruity, 4);\n    if (notes.includes('citrus')) profile.fruity = Math.max(profile.fruity, 4);\n    if (notes.includes('lemon')) profile.fruity = Math.max(profile.fruity, 3);\n    \n    if (notes.includes('floral') || notes.includes('flower') || notes.includes('jasmine')) profile.floral = 4;\n    \n    if (notes.includes('earthy')) profile.earthy = 4;\n    if (notes.includes('woody') || notes.includes('wood')) profile.earthy = Math.max(profile.earthy, 4);\n    \n    if (notes.includes('spicy') || notes.includes('spice')) profile.spicy = 4;\n    if (notes.includes('cinnamon')) profile.spicy = Math.max(profile.spicy, 3);\n    \n    if (notes.includes('sweet')) profile.sweet = 3;\n    if (notes.includes('caramel')) profile.sweet = Math.max(profile.sweet, 4);\n    if (notes.includes('honey')) profile.sweet = Math.max(profile.sweet, 4);\n    if (notes.includes('sugar')) profile.sweet = Math.max(profile.sweet, 3);\n    \n    if (notes.includes('acid') || notes.includes('bright') || notes.includes('lively')) profile.acidic = 4;\n    if (notes.includes('low acidity') || notes.includes('no acidity')) profile.acidic = 1;\n\n    return profile;\n  };\n\n  // Cost calculation functions\n  const calculateCostPerCup = (coffee) => {\n    if (!coffee.price || !coffee.packageSize) return null;\n    \n    const pricePerGram = parseFloat(coffee.price) / coffee.packageSize;\n    // Typical espresso shot uses 18-20g, let's use 18g as default\n    const gramsPerCup = coffee.brewingMethod === 'filter' ? 15 : 18;\n    const costPerCup = pricePerGram * gramsPerCup;\n    \n    return {\n      costPerCup: costPerCup.toFixed(3),\n      pricePerKg: (parseFloat(coffee.price) / coffee.packageSize * 1000).toFixed(2),\n      currency: coffee.currency || 'EUR'\n    };\n  };\n\n  const calculateValueScore = (coffee) => {\n    const cost = calculateCostPerCup(coffee);\n    if (!cost || coffee.tasteRating === 0) return null;\n    \n    // Value score = taste rating / cost per cup (higher is better)\n    const valueScore = coffee.tasteRating / parseFloat(cost.costPerCup);\n    return valueScore.toFixed(1);\n  };\n\n  // Fixed Analytics calculations\n  const getAnalyticsData = () => {\n    // Favorite roasters - improved calculation\n    const roasterCounts = coffees.reduce((acc, coffee) => {\n      const roaster = coffee.roaster.split(' - ')[0].trim();\n      acc[roaster] = (acc[roaster] || 0) + 1;\n      return acc;\n    }, {});\n\n    const roasterData = Object.entries(roasterCounts)\n      .map(([name, count]) => ({ name, count }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 6); // Show top 6 roasters\n\n    // Arabica/Robusta preference - improved calculation\n    const totalCoffees = coffees.length;\n    const avgArabica = totalCoffees > 0 ? coffees.reduce((sum, c) => sum + c.percentArabica, 0) / totalCoffees : 50;\n    const avgRobusta = 100 - avgArabica;\n    \n    const blendData = [\n      { name: 'Arabica', value: Math.round(avgArabica), fill: '#8B4513' },\n      { name: 'Robusta', value: Math.round(avgRobusta), fill: '#D2691E' }\n    ];\n\n    // Rating trends over time - improved calculation with proper sorting\n    const ratingTrends = coffees\n      .sort((a, b) => new Date(a.cuppingTime) - new Date(b.cuppingTime))\n      .map((coffee, index) => ({\n        date: new Date(coffee.cuppingTime).toLocaleDateString('en-US', { \n          month: 'short', \n          year: '2-digit' \n        }),\n        rating: coffee.tasteRating,\n        crema: coffee.cremaRating,\n        name: coffee.roaster.split(' - ')[0],\n        index: index + 1\n      }));\n\n    // Roast level distribution\n    const roastLevelCounts = coffees.reduce((acc, coffee) => {\n      const level = coffee.roastLevel || 'unknown';\n      acc[level] = (acc[level] || 0) + 1;\n      return acc;\n    }, {});\n\n    const roastLevelData = Object.entries(roastLevelCounts)\n      .map(([level, count]) => ({ \n        level: level.charAt(0).toUpperCase() + level.slice(1), \n        count,\n        fill: level === 'light' ? '#D2B48C' : \n              level === 'medium' ? '#8B4513' : \n              level === 'medium-dark' ? '#654321' : \n              level === 'dark' ? '#3C1810' : '#A0A0A0'\n      }));\n\n    // Origin country analysis\n    const originCounts = coffees.reduce((acc, coffee) => {\n      if (coffee.origin) {\n        const countries = coffee.origin.split(',').map(c => c.trim());\n        countries.forEach(country => {\n          if (countryFlags[country]) {\n            acc[country] = (acc[country] || 0) + 1;\n          }\n        });\n      }\n      return acc;\n    }, {});\n\n    const originData = Object.entries(originCounts)\n      .map(([code, count]) => ({ \n        country: countryFlags[code]?.name || code,\n        code,\n        count,\n        flag: countryFlags[code]?.flag || 'üåç'\n      }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 8);\n\n    // Grind settings by brand - NEW CALCULATION\n    const grindByBrand = coffees\n      .filter(c => c.grindingDegree && !isNaN(parseInt(c.grindingDegree)))\n      .reduce((acc, coffee) => {\n        const brand = coffee.roaster.split(' - ')[0].trim();\n        const grind = parseInt(coffee.grindingDegree);\n        \n        if (!acc[brand]) {\n          acc[brand] = { total: 0, count: 0, grinds: [] };\n        }\n        acc[brand].total += grind;\n        acc[brand].count += 1;\n        acc[brand].grinds.push(grind);\n        return acc;\n      }, {});\n\n    const grindByBrandData = Object.entries(grindByBrand)\n      .map(([brand, data]) => ({\n        brand,\n        avgGrind: Math.round(data.total / data.count * 10) / 10,\n        count: data.count,\n        minGrind: Math.min(...data.grinds),\n        maxGrind: Math.max(...data.grinds)\n      }))\n      .sort((a, b) => a.avgGrind - b.avgGrind);\n\n    // Price analysis\n    const coffeesWithPrice = coffees.filter(c => c.price && !isNaN(parseFloat(c.price)));\n    const priceAnalysis = coffeesWithPrice.map(coffee => {\n      const cost = calculateCostPerCup(coffee);\n      return {\n        name: coffee.roaster.split(' - ')[0],\n        coffee: coffee.description,\n        costPerCup: parseFloat(cost.costPerCup),\n        pricePerKg: parseFloat(cost.pricePerKg),\n        tasteRating: coffee.tasteRating,\n        valueScore: parseFloat(calculateValueScore(coffee)) || 0\n      };\n    }).sort((a, b) => a.costPerCup - b.costPerCup);\n\n    const avgCostPerCup = priceAnalysis.length > 0 \n      ? (priceAnalysis.reduce((sum, c) => sum + c.costPerCup, 0) / priceAnalysis.length).toFixed(3)\n      : null;\n\n    return { roasterData, blendData, ratingTrends, roastLevelData, originData, grindByBrandData, priceAnalysis, avgCostPerCup };\n  };\n\n  const [formData, setFormData] = useState({\n    roaster: '',\n    description: '',\n    favorite: false,\n    grinded: false,\n    grindingTime: '',\n    grindingDegree: '',\n    percentArabica: 100,\n    percentRobusta: 0,\n    cremaRating: 0,\n    tasteRating: 0,\n    tasteNotes: '',\n    url: '',\n    comment: '',\n    origin: '',\n    roastLevel: 'medium',\n    brewingMethod: 'espresso',\n    recommendedMethod: 'espresso',\n    price: '',\n    packageSize: 1000,\n    currency: 'EUR',\n    preparationNotes: '',\n    coffeeGroup: ''\n  });\n\n  const resetForm = () => {\n    setFormData({\n      roaster: '',\n      description: '',\n      favorite: false,\n      grinded: false,\n      grindingTime: '',\n      grindingDegree: '',\n      percentArabica: 100,\n      percentRobusta: 0,\n      cremaRating: 0,\n      tasteRating: 0,\n      tasteNotes: '',\n      url: '',\n      comment: '',\n      origin: '',\n      roastLevel: 'medium',\n      brewingMethod: 'espresso',\n      recommendedMethod: 'espresso',\n      price: '',\n      packageSize: 1000,\n      currency: 'EUR',\n      preparationNotes: '',\n      coffeeGroup: ''\n    });\n  };\n\n  const handleSubmit = () => {\n    const newCoffee = {\n      ...formData,\n      id: editingCoffee ? editingCoffee.id : Date.now(),\n      cuppingTime: editingCoffee ? editingCoffee.cuppingTime : new Date(),\n      percentArabica: parseInt(formData.percentArabica),\n      percentRobusta: parseInt(formData.percentRobusta),\n      grindingTime: formData.grindingTime || '',\n      grindingDegree: formData.grindingDegree || '',\n      cremaRating: parseInt(formData.cremaRating),\n      tasteRating: parseInt(formData.tasteRating),\n      tasteNotes: formData.tasteNotes || '',\n      url: formData.url || ''\n    };\n\n    if (editingCoffee) {\n      setCoffees(coffees.map(coffee => \n        coffee.id === editingCoffee.id ? newCoffee : coffee\n      ));\n      setEditingCoffee(null);\n    } else {\n      setCoffees([...coffees, newCoffee]);\n    }\n\n    resetForm();\n    setShowAddForm(false);\n  };\n\n  const handleEdit = (coffee) => {\n    setFormData({\n      roaster: coffee.roaster,\n      description: coffee.description,\n      favorite: coffee.favorite,\n      grinded: coffee.grinded,\n      grindingTime: coffee.grindingTime || '',\n      grindingDegree: coffee.grindingDegree || '',\n      percentArabica: coffee.percentArabica,\n      percentRobusta: coffee.percentRobusta,\n      cremaRating: coffee.cremaRating,\n      tasteRating: coffee.tasteRating,\n      tasteNotes: coffee.tasteNotes || '',\n      url: coffee.url || '',\n      comment: coffee.comment || '',\n      origin: coffee.origin || '',\n      roastLevel: coffee.roastLevel || 'medium',\n      brewingMethod: coffee.brewingMethod || 'espresso',\n      recommendedMethod: coffee.recommendedMethod || 'espresso',\n      price: coffee.price || '',\n      packageSize: coffee.packageSize || 1000,\n      currency: coffee.currency || 'EUR',\n      preparationNotes: coffee.preparationNotes || '',\n      coffeeGroup: coffee.coffeeGroup || ''\n    });\n    setEditingCoffee(coffee);\n    setShowAddForm(true);\n    scrollToForm();\n  };\n\n  const handleDelete = (id) => {\n    setCoffees(coffees.filter(coffee => coffee.id !== id));\n  };\n\n  // Copy coffee for different preparation methods\n  const handleCopy = (coffee) => {\n    const newCoffee = {\n      ...coffee,\n      id: Date.now(),\n      cuppingTime: new Date(),\n      cremaRating: 0,\n      tasteRating: 0,\n      preparationNotes: '',\n      comment: '',\n      // Create or maintain group ID for related coffees\n      coffeeGroup: coffee.coffeeGroup || `${coffee.roaster}-${coffee.description}`.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase()\n    };\n    \n    // Also update the original coffee with group ID if it doesn't have one\n    if (!coffee.coffeeGroup) {\n      const updatedCoffees = coffees.map(c => \n        c.id === coffee.id \n          ? { ...c, coffeeGroup: newCoffee.coffeeGroup }\n          : c\n      );\n      setCoffees([...updatedCoffees, newCoffee]);\n    } else {\n      setCoffees([...coffees, newCoffee]);\n    }\n    \n    // Pre-fill form with the new coffee for editing\n    setFormData({\n      roaster: newCoffee.roaster,\n      description: newCoffee.description,\n      favorite: newCoffee.favorite,\n      grinded: newCoffee.grinded,\n      grindingTime: newCoffee.grindingTime || '',\n      grindingDegree: newCoffee.grindingDegree || '',\n      percentArabica: newCoffee.percentArabica,\n      percentRobusta: newCoffee.percentRobusta,\n      cremaRating: newCoffee.cremaRating,\n      tasteRating: newCoffee.tasteRating,\n      tasteNotes: newCoffee.tasteNotes || '',\n      url: newCoffee.url || '',\n      comment: newCoffee.comment || '',\n      origin: newCoffee.origin || '',\n      roastLevel: newCoffee.roastLevel || 'medium',\n      brewingMethod: newCoffee.brewingMethod || 'espresso',\n      recommendedMethod: newCoffee.recommendedMethod || 'espresso',\n      price: newCoffee.price || '',\n      packageSize: newCoffee.packageSize || 1000,\n      currency: newCoffee.currency || 'EUR',\n      preparationNotes: newCoffee.preparationNotes || '',\n      coffeeGroup: newCoffee.coffeeGroup\n    });\n    setEditingCoffee(newCoffee);\n    setShowAddForm(true);\n    scrollToForm();\n  };\n\n  // Export data to JSON file\n  const handleExport = () => {\n    const dataToExport = {\n      version: '1.0',\n      exportDate: new Date().toISOString(),\n      coffees: coffees\n    };\n    \n    const jsonString = JSON.stringify(dataToExport, null, 2);\n    const blob = new Blob([jsonString], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    \n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `coffee-tracker-export-${new Date().toISOString().split('T')[0]}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  // Export data to PDF\n  const handlePDFExport = () => {\n    const doc = new jsPDF();\n    const pageHeight = doc.internal.pageSize.height;\n    let yPosition = 20;\n    \n    // Title\n    doc.setFontSize(20);\n    doc.setFont(undefined, 'bold');\n    doc.text('Coffee Collection', 20, yPosition);\n    yPosition += 15;\n    \n    // Summary stats\n    doc.setFontSize(12);\n    doc.setFont(undefined, 'normal');\n    doc.text(`Total Coffees: ${coffees.length}`, 20, yPosition);\n    yPosition += 8;\n    doc.text(`Favorites: ${coffees.filter(c => c.favorite).length}`, 20, yPosition);\n    yPosition += 8;\n    const avgRating = coffees.length > 0 ? (coffees.reduce((sum, c) => sum + c.tasteRating, 0) / coffees.length).toFixed(1) : '0';\n    doc.text(`Average Rating: ${avgRating}/5`, 20, yPosition);\n    yPosition += 15;\n    \n    // Coffee list\n    doc.setFont(undefined, 'bold');\n    doc.text('Coffee Details:', 20, yPosition);\n    yPosition += 10;\n    doc.setFont(undefined, 'normal');\n    \n    const sortedCoffees = [...coffees].sort((a, b) => b.tasteRating - a.tasteRating);\n    \n    sortedCoffees.forEach((coffee, index) => {\n      // Check if we need a new page\n      if (yPosition > pageHeight - 40) {\n        doc.addPage();\n        yPosition = 20;\n      }\n      \n      // Coffee header\n      doc.setFont(undefined, 'bold');\n      doc.setFontSize(12);\n      doc.text(`${index + 1}. ${coffee.roaster}`, 20, yPosition);\n      yPosition += 6;\n      \n      doc.setFont(undefined, 'normal');\n      doc.setFontSize(10);\n      \n      // Description\n      doc.text(`Description: ${coffee.description}`, 25, yPosition);\n      yPosition += 5;\n      \n      // Ratings with stars\n      const stars = (rating) => '‚òÖ'.repeat(rating) + '‚òÜ'.repeat(5 - rating);\n      doc.text(`Taste: ${stars(coffee.tasteRating)} (${coffee.tasteRating}/5)`, 25, yPosition);\n      yPosition += 5;\n      doc.text(`Crema: ${stars(coffee.cremaRating)} (${coffee.cremaRating}/5)`, 25, yPosition);\n      yPosition += 5;\n      \n      // Blend\n      doc.text(`Blend: ${coffee.percentArabica}% Arabica, ${coffee.percentRobusta}% Robusta`, 25, yPosition);\n      yPosition += 5;\n      \n      // Roast level\n      if (coffee.roastLevel) {\n        doc.text(`Roast: ${coffee.roastLevel.charAt(0).toUpperCase() + coffee.roastLevel.slice(1)}`, 25, yPosition);\n        yPosition += 5;\n      }\n      \n      // Brewing methods\n      if (coffee.brewingMethod) {\n        const method = brewingMethods.find(m => m.id === coffee.brewingMethod);\n        doc.text(`Your Method: ${method ? method.name : coffee.brewingMethod}`, 25, yPosition);\n        yPosition += 5;\n      }\n      if (coffee.recommendedMethod && coffee.recommendedMethod !== coffee.brewingMethod) {\n        const recMethod = brewingMethods.find(m => m.id === coffee.recommendedMethod);\n        doc.text(`Recommended: ${recMethod ? recMethod.name : coffee.recommendedMethod}`, 25, yPosition);\n        yPosition += 5;\n      }\n      \n      // Grind settings\n      if (coffee.grindingDegree) {\n        doc.text(`Grind Level: ${coffee.grindingDegree}`, 25, yPosition);\n        yPosition += 5;\n      }\n      \n      // Origin\n      if (coffee.origin) {\n        const origins = coffee.origin.split(',').map(code => {\n          const country = countryFlags[code.trim()];\n          return country ? country.name : code.trim();\n        }).join(', ');\n        doc.text(`Origin: ${origins}`, 25, yPosition);\n        yPosition += 5;\n      }\n      \n      // Taste notes\n      if (coffee.tasteNotes) {\n        const maxWidth = 160;\n        const lines = doc.splitTextToSize(`Taste Notes: ${coffee.tasteNotes}`, maxWidth);\n        lines.forEach(line => {\n          doc.text(line, 25, yPosition);\n          yPosition += 5;\n        });\n      }\n      \n      // Preparation notes\n      if (coffee.preparationNotes) {\n        doc.text(`Preparation: ${coffee.preparationNotes}`, 25, yPosition);\n        yPosition += 5;\n      }\n      \n      // Comment\n      if (coffee.comment) {\n        const maxWidth = 160;\n        const lines = doc.splitTextToSize(`Notes: ${coffee.comment}`, maxWidth);\n        lines.forEach(line => {\n          doc.text(line, 25, yPosition);\n          yPosition += 5;\n        });\n      }\n      \n      // Date\n      doc.text(`Cupped: ${new Date(coffee.cuppingTime).toLocaleDateString()}`, 25, yPosition);\n      yPosition += 5;\n      \n      // Price information\n      if (coffee.price) {\n        doc.text(`Price: ${coffee.price} ${coffee.currency || 'EUR'} / ${coffee.packageSize || 1000}g`, 25, yPosition);\n        yPosition += 5;\n        \n        const cost = calculateCostPerCup(coffee);\n        if (cost) {\n          doc.text(`Cost per cup: ${cost.costPerCup} ${cost.currency}`, 25, yPosition);\n          yPosition += 5;\n          \n          const valueScore = calculateValueScore(coffee);\n          if (valueScore) {\n            doc.text(`Value score: ${valueScore} (taste/cost ratio)`, 25, yPosition);\n            yPosition += 5;\n          }\n        }\n      }\n      \n      // Favorite indicator\n      if (coffee.favorite) {\n        doc.text('‚òÖ FAVORITE', 25, yPosition);\n        yPosition += 5;\n      }\n      \n      yPosition += 5; // Space between coffees\n    });\n    \n    // Footer\n    const totalPages = doc.internal.getNumberOfPages();\n    for (let i = 1; i <= totalPages; i++) {\n      doc.setPage(i);\n      doc.setFontSize(8);\n      doc.text(`Generated by Coffee Tracker - Page ${i} of ${totalPages}`, 20, pageHeight - 10);\n      doc.text(new Date().toLocaleDateString(), doc.internal.pageSize.width - 50, pageHeight - 10);\n    }\n    \n    // Save the PDF\n    doc.save(`coffee-collection-${new Date().toISOString().split('T')[0]}.pdf`);\n  };\n  \n  // Clear localStorage and reset to default data (DANGEROUS)\n  const handleResetToDefaults = () => {\n    const storageInfo = getStorageInfo();\n    const confirmText = 'RESET ALL DATA';\n    \n    const userInput = prompt(\n      `‚ö†Ô∏è DANGER: This will PERMANENTLY DELETE all your coffee data!\n\n` +\n      `You will lose:\n` +\n      `‚Ä¢ ${coffees.length} coffee entries\n` +\n      `‚Ä¢ All your personal ratings and comments\n` +\n      `‚Ä¢ All cupping dates and custom data\n` +\n      `‚Ä¢ ${storageInfo ? storageInfo.sizeKB : '?'}KB of stored data\n\n` +\n      `This CANNOT be undone!\n\n` +\n      `If you really want to continue, type exactly: ${confirmText}`\n    );\n    \n    if (userInput === confirmText) {\n      // Double confirmation\n      if (window.confirm('‚ö†Ô∏è FINAL WARNING: Are you absolutely sure? This will delete everything!')) {\n        localStorage.removeItem('coffeeTrackerData');\n        localStorage.removeItem('coffeeTrackerVersion');\n        localStorage.removeItem('coffeeTrackerLastSaved');\n        setCoffees(defaultCoffees);\n        localStorage.setItem('coffeeTrackerVersion', DATA_VERSION);\n        alert('‚úÖ Data reset to defaults. All previous data has been deleted.');\n      }\n    } else if (userInput !== null) {\n      alert('‚ùå Reset cancelled. Text did not match exactly.');\n    }\n  };\n\n  // Force refresh data (bypass version check)\n  const handleForceRefresh = () => {\n    if (window.confirm('This will update your data with any missing fields from the latest version. Existing data will be preserved. Continue?')) {\n      const migratedData = coffees.map(coffee => ({\n        ...coffee,\n        // Ensure all new fields exist\n        brewingMethod: coffee.brewingMethod || 'espresso',\n        recommendedMethod: coffee.recommendedMethod || 'espresso',\n        price: coffee.price || '',\n        packageSize: coffee.packageSize || 1000,\n        currency: coffee.currency || 'EUR',\n        preparationNotes: coffee.preparationNotes || (new Date(coffee.cuppingTime) < new Date('2024-12-01') ? 'Pure espresso' : ''),\n        coffeeGroup: coffee.coffeeGroup || ''\n      }));\n      setCoffees(migratedData);\n      localStorage.setItem('coffeeTrackerVersion', DATA_VERSION);\n      alert('‚úÖ Data migrated to latest version!');\n    }\n  };\n\n  // Check localStorage usage\n  const getStorageInfo = () => {\n    try {\n      const data = localStorage.getItem('coffeeTrackerData');\n      const version = localStorage.getItem('coffeeTrackerVersion');\n      const lastSaved = localStorage.getItem('coffeeTrackerLastSaved');\n      const sizeKB = data ? (new Blob([data]).size / 1024).toFixed(2) : '0';\n      \n      return {\n        version,\n        lastSaved: lastSaved ? new Date(lastSaved).toLocaleString() : 'Never',\n        sizeKB,\n        coffeeCount: coffees.length\n      };\n    } catch (error) {\n      return null;\n    }\n  };\n\n  // Import data from JSON file\n  const handleImport = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const importedData = JSON.parse(e.target.result);\n        \n        // Validate the imported data\n        if (!importedData.coffees || !Array.isArray(importedData.coffees)) {\n          alert('Invalid file format. Please select a valid Coffee Tracker export file.');\n          return;\n        }\n\n        // Convert date strings back to Date objects\n        const importedCoffees = importedData.coffees.map(coffee => ({\n          ...coffee,\n          cuppingTime: new Date(coffee.cuppingTime),\n          // Ensure each coffee has a unique ID\n          id: coffee.id || Date.now() + Math.random()\n        }));\n\n        // Ask user if they want to replace or merge\n        const shouldReplace = window.confirm(\n          `Import ${importedCoffees.length} coffees?\\n\\n` +\n          'OK = Replace all current data\\n' +\n          'Cancel = Merge with existing data'\n        );\n\n        if (shouldReplace) {\n          setCoffees(importedCoffees);\n        } else {\n          // Merge: add imported coffees with new IDs to avoid conflicts\n          const maxId = Math.max(...coffees.map(c => c.id), 0);\n          const mergedCoffees = [\n            ...coffees,\n            ...importedCoffees.map((coffee, index) => ({\n              ...coffee,\n              id: maxId + index + 1\n            }))\n          ];\n          setCoffees(mergedCoffees);\n        }\n\n        alert(`Successfully imported ${importedCoffees.length} coffees!`);\n      } catch (error) {\n        console.error('Import error:', error);\n        alert('Error importing file. Please make sure it\\'s a valid Coffee Tracker export.');\n      }\n    };\n    \n    reader.readAsText(file);\n    // Reset file input\n    event.target.value = '';\n  };\n\n  const filteredCoffees = coffees\n    .filter(coffee => {\n      const matchesSearch = coffee.roaster.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                           coffee.description.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesFavorite = !filterFavorites || coffee.favorite;\n      return matchesSearch && matchesFavorite;\n    })\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'rating':\n          return b.tasteRating - a.tasteRating;\n        case 'roaster':\n          return a.roaster.localeCompare(b.roaster);\n        case 'priceLowHigh':\n          const costA = calculateCostPerCup(a);\n          const costB = calculateCostPerCup(b);\n          if (!costA) return 1;\n          if (!costB) return -1;\n          return parseFloat(costA.costPerCup) - parseFloat(costB.costPerCup);\n        case 'priceHighLow':\n          const costA2 = calculateCostPerCup(a);\n          const costB2 = calculateCostPerCup(b);\n          if (!costA2) return 1;\n          if (!costB2) return -1;\n          return parseFloat(costB2.costPerCup) - parseFloat(costA2.costPerCup);\n        case 'value':\n          const valueA = calculateValueScore(a);\n          const valueB = calculateValueScore(b);\n          if (!valueA) return 1;\n          if (!valueB) return -1;\n          return parseFloat(valueB) - parseFloat(valueA);\n        case 'date':\n        default:\n          return new Date(b.cuppingTime) - new Date(a.cuppingTime);\n      }\n    });\n\n  const StarRating = ({ rating, onRatingChange, readOnly = false, size = 'normal' }) => {\n    const sizeClass = size === 'small' ? 'w-4 h-4' : 'w-5 h-5';\n    return (\n      <div className=\"flex space-x-1\">\n        {[1, 2, 3, 4, 5].map((star) => (\n          <Star\n            key={star}\n            className={`${sizeClass} cursor-pointer transition-colors ${\n              star <= rating \n                ? 'text-yellow-400 fill-yellow-400' \n                : darkMode ? 'text-gray-600 hover:text-yellow-300' : 'text-gray-300 hover:text-yellow-300'\n            } ${readOnly ? 'cursor-default' : ''}`}\n            onClick={() => !readOnly && onRatingChange && onRatingChange(star)}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  // ComboBox component for dropdowns with custom input\n  const ComboBox = ({ value, onChange, options, placeholder, type = 'text' }) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [inputValue, setInputValue] = useState(value || '');\n    const dropdownRef = useRef(null);\n\n    useEffect(() => {\n      setInputValue(value || '');\n    }, [value]);\n\n    useEffect(() => {\n      const handleClickOutside = (event) => {\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n          setIsOpen(false);\n        }\n      };\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    const handleInputChange = (e) => {\n      const newValue = e.target.value;\n      setInputValue(newValue);\n      onChange(newValue);\n      setIsOpen(true);\n    };\n\n    const handleOptionSelect = (option) => {\n      setInputValue(option);\n      onChange(option);\n      setIsOpen(false);\n    };\n\n    const filteredOptions = options.filter(option =>\n      option.toLowerCase().includes(inputValue.toLowerCase())\n    );\n\n    // Format display for countries\n    const formatCountryDisplay = (countryCode) => {\n      if (type === 'country') {\n        const country = countryFlags[countryCode];\n        return country ? `${country.flag} ${countryCode} - ${country.name}` : countryCode;\n      }\n      return countryCode;\n    };\n\n    return (\n      <div className=\"relative\" ref={dropdownRef}>\n        <div className=\"relative\">\n          <input\n            type=\"text\"\n            value={inputValue}\n            onChange={handleInputChange}\n            onFocus={() => setIsOpen(true)}\n            placeholder={placeholder}\n            className={`w-full px-4 py-2 border rounded-lg pr-10 ${\n              darkMode \n                ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'\n            } focus:ring-2 focus:ring-amber-500 focus:border-transparent`}\n          />\n          <button\n            type=\"button\"\n            onClick={() => setIsOpen(!isOpen)}\n            className={`absolute right-2 top-1/2 transform -translate-y-1/2 ${\n              darkMode ? 'text-gray-400' : 'text-gray-500'\n            }`}\n          >\n            <ChevronDown className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} />\n          </button>\n        </div>\n\n        {isOpen && (\n          <div className={`absolute z-10 w-full mt-1 ${\n            darkMode ? 'bg-gray-700 border-gray-600' : 'bg-white border-gray-300'\n          } border rounded-lg shadow-lg max-h-48 overflow-y-auto`}>\n            {filteredOptions.length > 0 ? (\n              filteredOptions.map((option, index) => (\n                <button\n                  key={index}\n                  type=\"button\"\n                  onClick={() => handleOptionSelect(option)}\n                  className={`w-full px-4 py-2 text-left hover:${\n                    darkMode ? 'bg-gray-600' : 'bg-gray-100'\n                  } flex items-center justify-between transition-colors`}\n                >\n                  <span className=\"truncate\">\n                    {type === 'country' ? formatCountryDisplay(option) : option}\n                  </span>\n                  {inputValue === option && (\n                    <Check className=\"w-4 h-4 text-amber-500 flex-shrink-0 ml-2\" />\n                  )}\n                </button>\n              ))\n            ) : (\n              <div className={`px-4 py-2 text-sm ${\n                darkMode ? 'text-gray-400' : 'text-gray-500'\n              }`}>\n                No matches found. Type to add custom entry.\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Prepare radar data for selected coffee\n  const getRadarData = (coffee) => {\n    const profile = parseTasteProfile(coffee.tasteNotes);\n    return Object.entries(profile).map(([taste, value]) => ({\n      taste: taste.charAt(0).toUpperCase() + taste.slice(1),\n      value\n    }));\n  };\n\n  const analytics = getAnalyticsData();\n\n  // Custom tooltip component for better formatting\n  const CustomTooltip = ({ active, payload, label }) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className={`${darkMode ? 'bg-gray-800 border-gray-600' : 'bg-white border-gray-200'} p-3 rounded-lg shadow-lg border`}>\n          <p className={`${darkMode ? 'text-white' : 'text-gray-900'} font-medium`}>{label}</p>\n          {payload.map((entry, index) => (\n            <p key={index} style={{ color: entry.color }}>\n              {`${entry.dataKey}: ${entry.value}`}\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className={`min-h-screen ${darkMode ? 'bg-gray-900' : 'bg-gradient-to-br from-amber-50 to-orange-100'} p-4 transition-colors`}>\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div className={`${darkMode ? 'bg-gray-800 text-white' : 'bg-white'} rounded-2xl shadow-xl p-6 mb-6 transition-colors`}>\n          <div className=\"flex items-center justify-between flex-wrap gap-4 mb-4\">\n            <div className=\"flex items-center space-x-3\">\n              <Coffee className=\"w-8 h-8 text-amber-600\" />\n              <h1 className={`text-3xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>Coffee Tracker</h1>\n            </div>\n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={() => setDarkMode(!darkMode)}\n                className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-yellow-400' : 'bg-gray-200 text-gray-700'} transition-colors`}\n              >\n                {darkMode ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\n              </button>\n              <button\n                onClick={handleExport}\n                className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'} transition-colors`}\n                title=\"Export JSON data\"\n              >\n                <Download className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={handlePDFExport}\n                className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-red-300 hover:bg-gray-600' : 'bg-gray-200 text-red-700 hover:bg-gray-300'} transition-colors`}\n                title=\"Export PDF catalog\"\n              >\n                <FileText className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'} transition-colors`}\n                title=\"Import data\"\n              >\n                <Upload className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={handleForceRefresh}\n                className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 text-blue-300 hover:bg-gray-600' : 'bg-gray-200 text-blue-700 hover:bg-gray-300'} transition-colors`}\n                title=\"Update to latest version (safe)\"\n              >\n                <RefreshCw className=\"w-5 h-5\" />\n              </button>\n              {/* Dangerous reset button - separated and clearly marked */}\n              <div className=\"border-l border-gray-400 ml-2 pl-2\">\n                <button\n                  onClick={handleResetToDefaults}\n                  className={`p-2 rounded-lg ${darkMode ? 'bg-red-900 text-red-300 hover:bg-red-800' : 'bg-red-100 text-red-700 hover:bg-red-200'} transition-colors border ${darkMode ? 'border-red-700' : 'border-red-300'}`}\n                  title=\"‚ö†Ô∏è DANGER: Reset ALL data to defaults (EXPORT FIRST!)\"\n                >\n                  <RotateCcw className=\"w-5 h-5\" />\n                </button>\n              </div>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\".json\"\n                onChange={handleImport}\n                className=\"hidden\"\n              />\n              <button\n                onClick={() => setShowAnalytics(!showAnalytics)}\n                className={`${darkMode ? 'bg-blue-600 hover:bg-blue-700' : 'bg-blue-500 hover:bg-blue-600'} text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors`}\n              >\n                <BarChart3 className=\"w-5 h-5\" />\n                <span className=\"hidden sm:inline\">Analytics</span>\n              </button>\n              <button\n                onClick={() => {\n                  resetForm();\n                  setEditingCoffee(null);\n                  setShowAddForm(true);\n                  scrollToForm();\n                }}\n                className=\"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors\"\n              >\n                <Plus className=\"w-5 h-5\" />\n                <span className=\"hidden sm:inline\">Add Coffee</span>\n              </button>\n            </div>\n          </div>\n\n          {/* Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div className={`${darkMode ? 'bg-gray-700' : 'bg-amber-50'} p-4 rounded-lg transition-colors`}>\n              <div className=\"text-2xl font-bold text-amber-600\">{coffees.length}</div>\n              <div className={darkMode ? 'text-gray-300' : 'text-gray-600'}>Total Coffees</div>\n            </div>\n            <div className={`${darkMode ? 'bg-gray-700' : 'bg-amber-50'} p-4 rounded-lg transition-colors`}>\n              <div className=\"text-2xl font-bold text-amber-600\">\n                {coffees.filter(c => c.favorite).length}\n              </div>\n              <div className={darkMode ? 'text-gray-300' : 'text-gray-600'}>Favorites</div>\n            </div>\n            <div className={`${darkMode ? 'bg-gray-700' : 'bg-amber-50'} p-4 rounded-lg transition-colors`}>\n              <div className=\"text-2xl font-bold text-amber-600\">\n                {coffees.length > 0 ? (coffees.reduce((sum, c) => sum + c.tasteRating, 0) / coffees.length).toFixed(1) : '0'}\n              </div>\n              <div className={darkMode ? 'text-gray-300' : 'text-gray-600'}>Avg Rating</div>\n            </div>\n            <div className={`${darkMode ? 'bg-gray-700' : 'bg-amber-50'} p-4 rounded-lg transition-colors`}>\n              <div className=\"text-2xl font-bold text-green-600\">\n                {analytics.avgCostPerCup ? `${analytics.avgCostPerCup} ‚Ç¨` : 'N/A'}\n              </div>\n              <div className={darkMode ? 'text-gray-300' : 'text-gray-600'}>Avg Cost/Cup</div>\n            </div>\n          </div>\n          \n          {/* Storage Info */}\n          {(() => {\n            const storageInfo = getStorageInfo();\n            return storageInfo && (\n              <div className={`${darkMode ? 'bg-gray-700' : 'bg-blue-50'} p-3 rounded-lg mt-4 border-l-4 border-blue-500`}>\n                <div className=\"flex items-center justify-between flex-wrap gap-2 text-sm\">\n                  <div className={darkMode ? 'text-gray-300' : 'text-gray-700'}>\n                    üíæ Data Version: <span className=\"font-mono\">{storageInfo.version}</span> | \n                    Size: <span className=\"font-mono\">{storageInfo.sizeKB}KB</span> | \n                    Last Saved: <span className=\"font-mono\">{storageInfo.lastSaved}</span>\n                  </div>\n                  <div className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                    {storageInfo.coffeeCount} coffees in storage\n                  </div>\n                </div>\n              </div>\n            );\n          })()}\n        </div>\n\n        {/* Analytics Dashboard */}\n        {showAnalytics && (\n          <div className={`${darkMode ? 'bg-gray-800 text-white' : 'bg-white'} rounded-2xl shadow-xl p-6 mb-6 transition-colors`}>\n            <h2 className=\"text-2xl font-bold mb-6\">Coffee Analytics & Insights</h2>\n            \n            {/* Value Score Explanation */}\n            <div className={`${darkMode ? 'bg-gray-700' : 'bg-amber-50'} p-4 rounded-lg mb-6 border-l-4 border-amber-500`}>\n              <h3 className=\"text-lg font-semibold mb-2 flex items-center\">\n                <span className=\"text-amber-600 mr-2\">üí°</span>\n                Value Score Explained\n              </h3>\n              <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>\n                <strong>Value Score = Taste Rating √∑ Cost per Cup</strong>\n              </p>\n              <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Higher scores mean better value for money. A 5-star coffee at ‚Ç¨0.50/cup (Value: 10.0) offers better value than a 5-star coffee at ‚Ç¨1.00/cup (Value: 5.0). \n                Scores above 5 are generally good value.\n              </p>\n            </div>\n            \n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Top Roasters */}\n              <div>\n                <h3 className=\"text-lg font-semibold mb-4\">Top Roasters</h3>\n                <ResponsiveContainer width=\"100%\" height={250}>\n                  <BarChart data={analytics.roasterData} margin={{ top: 20, right: 30, left: 20, bottom: 80 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke={darkMode ? '#374151' : '#e5e7eb'} />\n                    <XAxis \n                      dataKey=\"name\" \n                      stroke={darkMode ? '#9ca3af' : '#6b7280'}\n                      angle={-45}\n                      textAnchor=\"end\"\n                      height={80}\n                      interval={0}\n                      fontSize={12}\n                    />\n                    <YAxis stroke={darkMode ? '#9ca3af' : '#6b7280'} />\n                    <Tooltip content={<CustomTooltip />} />\n                    <Bar dataKey=\"count\" fill=\"#f59e0b\" radius={[4, 4, 0, 0]} />\n                  </BarChart>\n                </ResponsiveContainer>\n              </div>\n\n              {/* Blend Preference */}\n              <div>\n                <h3 className=\"text-lg font-semibold mb-4\">Average Blend Preference</h3>\n                <ResponsiveContainer width=\"100%\" height={250}>\n                  <PieChart margin={{ top: 20, right: 20, bottom: 20, left: 20 }}>\n                    <Pie\n                      data={analytics.blendData}\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      labelLine={false}\n                      outerRadius={80}\n                      dataKey=\"value\"\n                    >\n                      {analytics.blendData.map((entry, index) => (\n                        <Cell key={`cell-${index}`} fill={entry.fill} />\n                      ))}\n                    </Pie>\n                    <Tooltip content={<CustomTooltip />} />\n                    <Legend \n                      verticalAlign=\"bottom\" \n                      height={36}\n                      formatter={(value, entry) => `${value}: ${entry.payload.value}%`}\n                    />\n                  </PieChart>\n                </ResponsiveContainer>\n              </div>\n\n              {/* Rating Trends */}\n              <div className=\"lg:col-span-2\">\n                <h3 className=\"text-lg font-semibold mb-4\">Rating Trends Over Time</h3>\n                <ResponsiveContainer width=\"100%\" height={250}>\n                  <LineChart data={analytics.ratingTrends} margin={{ top: 20, right: 30, left: 20, bottom: 60 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke={darkMode ? '#374151' : '#e5e7eb'} />\n                    <XAxis \n                      dataKey=\"date\" \n                      stroke={darkMode ? '#9ca3af' : '#6b7280'}\n                      angle={-45}\n                      textAnchor=\"end\"\n                      height={60}\n                      interval={Math.max(0, Math.floor(analytics.ratingTrends.length / 10))}\n                      fontSize={12}\n                    />\n                    <YAxis domain={[0, 5]} stroke={darkMode ? '#9ca3af' : '#6b7280'} />\n                    <Tooltip content={<CustomTooltip />} />\n                    <Line \n                      type=\"monotone\" \n                      dataKey=\"rating\" \n                      stroke=\"#f59e0b\" \n                      strokeWidth={2} \n                      dot={{ r: 4, fill: '#f59e0b' }}\n                      name=\"Taste Rating\"\n                    />\n                    <Line \n                      type=\"monotone\" \n                      dataKey=\"crema\" \n                      stroke=\"#8b4513\" \n                      strokeWidth={2} \n                      dot={{ r: 4, fill: '#8b4513' }}\n                      name=\"Crema Rating\"\n                    />\n                  </LineChart>\n                </ResponsiveContainer>\n              </div>\n\n              {/* Origin Countries */}\n              <div>\n                <h3 className=\"text-lg font-semibold mb-4\">Coffee Origins</h3>\n                <ResponsiveContainer width=\"100%\" height={250}>\n                  <BarChart data={analytics.originData} margin={{ top: 20, right: 30, left: 20, bottom: 80 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke={darkMode ? '#374151' : '#e5e7eb'} />\n                    <XAxis \n                      dataKey=\"code\" \n                      stroke={darkMode ? '#9ca3af' : '#6b7280'}\n                      angle={-45}\n                      textAnchor=\"end\"\n                      height={80}\n                      interval={0}\n                      fontSize={12}\n                    />\n                    <YAxis stroke={darkMode ? '#9ca3af' : '#6b7280'} />\n                    <Tooltip content={<CustomTooltip />} />\n                    <Bar dataKey=\"count\" fill=\"#10b981\" radius={[4, 4, 0, 0]} />\n                  </BarChart>\n                </ResponsiveContainer>\n              </div>\n\n              {/* Roast Levels */}\n              <div>\n                <h3 className=\"text-lg font-semibold mb-4\">Roast Level Distribution</h3>\n                <ResponsiveContainer width=\"100%\" height={250}>\n                  <PieChart>\n                    <Pie\n                      data={analytics.roastLevelData}\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      labelLine={false}\n                      label={({ level, count }) => `${level}: ${count}`}\n                      outerRadius={80}\n                      dataKey=\"count\"\n                    >\n                      {analytics.roastLevelData.map((entry, index) => (\n                        <Cell key={`cell-${index}`} fill={entry.fill} />\n                      ))}\n                    </Pie>\n                    <Tooltip content={<CustomTooltip />} />\n                  </PieChart>\n                </ResponsiveContainer>\n              </div>\n\n              {/* Cost Analysis */}\n              {analytics.priceAnalysis && analytics.priceAnalysis.length > 0 && (\n                <div className=\"lg:col-span-2\">\n                  <h3 className=\"text-lg font-semibold mb-4\">Cost Analysis</h3>\n                  <div className=\"mb-4\">\n                    <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                      Average cost per cup: <span className=\"font-bold text-green-600\">{analytics.avgCostPerCup} EUR</span>\n                    </p>\n                  </div>\n                  <ResponsiveContainer width=\"100%\" height={300}>\n                    <BarChart data={analytics.priceAnalysis.slice(0, 10)} margin={{ top: 20, right: 30, left: 60, bottom: 80 }}>\n                      <CartesianGrid strokeDasharray=\"3 3\" stroke={darkMode ? '#374151' : '#e5e7eb'} />\n                      <XAxis \n                        dataKey=\"name\" \n                        stroke={darkMode ? '#9ca3af' : '#6b7280'} \n                        angle={-45} \n                        textAnchor=\"end\" \n                        height={80}\n                        interval={0}\n                        fontSize={12}\n                      />\n                      <YAxis \n                        stroke={darkMode ? '#9ca3af' : '#6b7280'} \n                        label={{ value: 'Cost per Cup (EUR)', angle: -90, position: 'insideLeft' }}\n                      />\n                      <Tooltip \n                        content={({ active, payload, label }) => {\n                          if (active && payload && payload.length) {\n                            const data = payload[0].payload;\n                            return (\n                              <div className={`${darkMode ? 'bg-gray-800 border-gray-600' : 'bg-white border-gray-200'} p-3 rounded-lg shadow-lg border`}>\n                                <p className={`${darkMode ? 'text-white' : 'text-gray-900'} font-medium`}>{label}</p>\n                                <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>{data.coffee}</p>\n                                <p style={{ color: payload[0].color }}>\n                                  Cost: {data.costPerCup.toFixed(3)} EUR/cup\n                                </p>\n                                <p className=\"text-sm text-gray-500\">\n                                  Taste: {data.tasteRating}/5 | Value: {data.valueScore}\n                                </p>\n                              </div>\n                            );\n                          }\n                          return null;\n                        }}\n                      />\n                      <Bar dataKey=\"costPerCup\" fill=\"#10b981\" radius={[4, 4, 0, 0]} />\n                    </BarChart>\n                  </ResponsiveContainer>\n                </div>\n              )}\n\n              {/* Grind Settings by Brand - FIXED */}\n              <div className=\"lg:col-span-2\">\n                <h3 className=\"text-lg font-semibold mb-4\">Grind Settings by Brand</h3>\n                {analytics.grindByBrandData && analytics.grindByBrandData.length > 0 ? (\n                  <ResponsiveContainer width=\"100%\" height={300}>\n                    <BarChart data={analytics.grindByBrandData} margin={{ top: 20, right: 30, left: 60, bottom: 80 }}>\n                      <CartesianGrid strokeDasharray=\"3 3\" stroke={darkMode ? '#374151' : '#e5e7eb'} />\n                      <XAxis \n                        dataKey=\"brand\" \n                        stroke={darkMode ? '#9ca3af' : '#6b7280'} \n                        angle={-45} \n                        textAnchor=\"end\" \n                        height={80}\n                        interval={0}\n                        fontSize={12}\n                      />\n                      <YAxis \n                        stroke={darkMode ? '#9ca3af' : '#6b7280'} \n                        label={{ value: 'Grind Level', angle: -90, position: 'insideLeft' }}\n                      />\n                      <Tooltip \n                        content={({ active, payload, label }) => {\n                          if (active && payload && payload.length) {\n                            return (\n                              <div className={`${darkMode ? 'bg-gray-800 border-gray-600' : 'bg-white border-gray-200'} p-3 rounded-lg shadow-lg border`}>\n                                <p className={`${darkMode ? 'text-white' : 'text-gray-900'} font-medium`}>{label}</p>\n                                <p style={{ color: payload[0].color }}>\n                                  Average Grind: {payload[0].value}\n                                </p>\n                                <p className=\"text-sm text-gray-500\">\n                                  {payload[0].payload.count} coffee{payload[0].payload.count !== 1 ? 's' : ''}\n                                </p>\n                              </div>\n                            );\n                          }\n                          return null;\n                        }}\n                      />\n                      <Bar dataKey=\"avgGrind\" fill=\"#8b4513\" radius={[4, 4, 0, 0]} />\n                    </BarChart>\n                  </ResponsiveContainer>\n                ) : (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    No grind data available\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Flavor Profile Comparison */}\n            {selectedCoffeeForRadar && (\n              <div className=\"mt-8\">\n                <h3 className=\"text-lg font-semibold mb-4\">\n                  Flavor Profile: {selectedCoffeeForRadar.roaster} - {selectedCoffeeForRadar.description}\n                </h3>\n                <ResponsiveContainer width=\"100%\" height={600}>\n                  <RadarChart data={getRadarData(selectedCoffeeForRadar)} margin={{ top: 50, right: 50, bottom: 50, left: 50 }}>\n                    <PolarGrid stroke={darkMode ? '#374151' : '#e5e7eb'} />\n                    <PolarAngleAxis \n                      dataKey=\"taste\" \n                      stroke={darkMode ? '#9ca3af' : '#6b7280'} \n                      fontSize={18}\n                      tick={{ fill: darkMode ? '#e5e7eb' : '#374151' }}\n                      className=\"font-medium\"\n                    />\n                    <PolarRadiusAxis \n                      domain={[0, 5]} \n                      stroke={darkMode ? '#9ca3af' : '#6b7280'} \n                      fontSize={16}\n                      tick={{ fill: darkMode ? '#9ca3af' : '#6b7280' }}\n                    />\n                    <Radar name=\"Flavor Profile\" dataKey=\"value\" stroke=\"#f59e0b\" fill=\"#f59e0b\" fillOpacity={0.3} strokeWidth={3} />\n                    <Tooltip content={<CustomTooltip />} />\n                  </RadarChart>\n                </ResponsiveContainer>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Search and Filter */}\n        <div className={`${darkMode ? 'bg-gray-800 text-white' : 'bg-white'} rounded-2xl shadow-xl p-6 mb-6 transition-colors`}>\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"w-5 h-5 absolute left-3 top-3 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search by roaster or description...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`w-full pl-10 pr-4 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n              />\n            </div>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={() => setFilterFavorites(!filterFavorites)}\n                className={`px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors ${\n                  filterFavorites \n                    ? 'bg-amber-600 text-white' \n                    : darkMode ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                }`}\n              >\n                <Star className=\"w-4 h-4\" />\n                <span>Favorites</span>\n              </button>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className={`px-4 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n              >\n                <option value=\"date\">Sort by Date</option>\n                <option value=\"rating\">Sort by Rating</option>\n                <option value=\"roaster\">Sort by Roaster</option>\n                <option value=\"value\">Sort by Value (Best First)</option>\n                <option value=\"priceLowHigh\">Sort by Price (Low to High)</option>\n                <option value=\"priceHighLow\">Sort by Price (High to Low)</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Add/Edit Form */}\n        {showAddForm && (\n          <div ref={formRef} className={`${darkMode ? 'bg-gray-800 text-white' : 'bg-white'} rounded-2xl shadow-xl p-6 mb-6 transition-colors`}>\n            <h2 className=\"text-2xl font-bold mb-6\">\n              {editingCoffee ? 'Edit Coffee' : 'Add New Coffee'}\n            </h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Roaster</label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.roaster}\n                  onChange={(e) => setFormData({...formData, roaster: e.target.value})}\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                />\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Description</label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.description}\n                  onChange={(e) => setFormData({...formData, description: e.target.value})}\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                />\n              </div>\n\n              <div className=\"flex items-center space-x-6\">\n                <label className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.favorite}\n                    onChange={(e) => setFormData({...formData, favorite: e.target.checked})}\n                    className=\"rounded text-amber-600 focus:ring-amber-500\"\n                  />\n                  <span className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Favorite</span>\n                </label>\n                <label className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.grinded}\n                    onChange={(e) => setFormData({...formData, grinded: e.target.checked})}\n                    className=\"rounded text-amber-600 focus:ring-amber-500\"\n                  />\n                  <span className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Pre-grinded</span>\n                </label>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Roast Level</label>\n                <select\n                  value={formData.roastLevel}\n                  onChange={(e) => setFormData({...formData, roastLevel: e.target.value})}\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                >\n                  <option value=\"light\">Light</option>\n                  <option value=\"medium\">Medium</option>\n                  <option value=\"medium-dark\">Medium-Dark</option>\n                  <option value=\"dark\">Dark</option>\n                </select>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Your Brewing Method</label>\n                <select\n                  value={formData.brewingMethod}\n                  onChange={(e) => setFormData({...formData, brewingMethod: e.target.value})}\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                >\n                  {brewingMethods.map(method => (\n                    <option key={method.id} value={method.id}>\n                      {method.icon} {method.name}\n                    </option>\n                  ))}\n                </select>\n                <p className={`text-xs mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                  Your preferred brewing method\n                </p>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Roaster's Recommended Method</label>\n                <select\n                  value={formData.recommendedMethod}\n                  onChange={(e) => setFormData({...formData, recommendedMethod: e.target.value})}\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                >\n                  {brewingMethods.map(method => (\n                    <option key={method.id} value={method.id}>\n                      {method.icon} {method.name}\n                    </option>\n                  ))}\n                </select>\n                <p className={`text-xs mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                  What the roaster suggests (check packaging/website)\n                </p>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Origin Countries</label>\n                <ComboBox\n                  value={formData.origin}\n                  onChange={(value) => setFormData({...formData, origin: value})}\n                  options={commonCountries}\n                  placeholder=\"e.g. BR, CO, ET (Brazil, Colombia, Ethiopia)\"\n                  type=\"country\"\n                />\n                <p className={`text-xs mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                  Common codes: BR (Brazil), CO (Colombia), ET (Ethiopia), GT (Guatemala), CR (Costa Rica)\n                </p>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Grinder Level</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"e.g. 12, 15, 10\"\n                  value={formData.grindingDegree}\n                  onChange={(e) => setFormData({...formData, grindingDegree: e.target.value})}\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Arabica %</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={formData.percentArabica}\n                    onChange={(e) => {\n                      const arabica = parseInt(e.target.value) || 0;\n                      setFormData({\n                        ...formData, \n                        percentArabica: arabica,\n                        percentRobusta: Math.max(0, 100 - arabica)\n                      });\n                    }}\n                    className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Robusta %</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={formData.percentRobusta}\n                    onChange={(e) => {\n                      const robusta = parseInt(e.target.value) || 0;\n                      setFormData({\n                        ...formData, \n                        percentRobusta: robusta,\n                        percentArabica: Math.max(0, 100 - robusta)\n                      });\n                    }}\n                    className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Crema Rating</label>\n                <StarRating \n                  rating={formData.cremaRating} \n                  onRatingChange={(rating) => setFormData({...formData, cremaRating: rating})}\n                />\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Taste Notes</label>\n                <ComboBox\n                  value={formData.tasteNotes}\n                  onChange={(value) => setFormData({...formData, tasteNotes: value})}\n                  options={commonTasteNotes}\n                  placeholder=\"e.g. Chocolate: 3, Nutty: 4, Fruity: 2\"\n                />\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Product URL</label>\n                <input\n                  type=\"url\"\n                  placeholder=\"https://...\"\n                  value={formData.url}\n                  onChange={(e) => setFormData({...formData, url: e.target.value})}\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                />\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Taste Rating</label>\n                <StarRating \n                  rating={formData.tasteRating} \n                  onRatingChange={(rating) => setFormData({...formData, tasteRating: rating})}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Price</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    placeholder=\"e.g. 12.50\"\n                    value={formData.price}\n                    onChange={(e) => setFormData({...formData, price: e.target.value})}\n                    className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Package Size (g)</label>\n                  <input\n                    type=\"number\"\n                    placeholder=\"1000\"\n                    value={formData.packageSize}\n                    onChange={(e) => setFormData({...formData, packageSize: parseInt(e.target.value) || 1000})}\n                    className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                  />\n                </div>\n                <div>\n                  <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Currency</label>\n                  <select\n                    value={formData.currency}\n                    onChange={(e) => setFormData({...formData, currency: e.target.value})}\n                    className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                  >\n                    <option value=\"EUR\">EUR ‚Ç¨</option>\n                    <option value=\"USD\">USD $</option>\n                    <option value=\"GBP\">GBP ¬£</option>\n                    <option value=\"CHF\">CHF ‚Ç£</option>\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Preparation Notes</label>\n                <ComboBox\n                  value={formData.preparationNotes}\n                  onChange={(value) => setFormData({...formData, preparationNotes: value})}\n                  options={commonPreparationNotes}\n                  placeholder=\"e.g. Pure espresso, Americano style, Extra sieve\"\n                />\n                <p className={`text-xs mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                  How you prepared this coffee when rating it\n                </p>\n              </div>\n              \n              <div>\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Coffee Group (Optional)</label>\n                <input\n                  type=\"text\"\n                  value={formData.coffeeGroup}\n                  onChange={(e) => setFormData({...formData, coffeeGroup: e.target.value})}\n                  placeholder=\"Leave empty for auto-grouping\"\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                />\n                <p className={`text-xs mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\n                  Groups related coffees together (auto-generated when copying)\n                </p>\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className={`block text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'} mb-2`}>Comment</label>\n                <textarea\n                  value={formData.comment}\n                  onChange={(e) => setFormData({...formData, comment: e.target.value})}\n                  rows=\"3\"\n                  placeholder=\"Additional notes, brewing tips, personal thoughts...\"\n                  className={`w-full px-3 py-2 border ${darkMode ? 'bg-gray-700 border-gray-600 text-white' : 'border-gray-300'} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors`}\n                />\n              </div>\n\n              <div className=\"md:col-span-2 flex space-x-4\">\n                <button\n                  onClick={handleSubmit}\n                  className=\"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg transition-colors\"\n                >\n                  {editingCoffee ? 'Update Coffee' : 'Add Coffee'}\n                </button>\n                <button\n                  onClick={() => {\n                    setShowAddForm(false);\n                    setEditingCoffee(null);\n                    resetForm();\n                  }}\n                  className={`${darkMode ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-gray-300 hover:bg-gray-400 text-gray-700'} px-6 py-2 rounded-lg transition-colors`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Expand/Collapse All Controls */}\n        {filteredCoffees.length > 0 && (\n          <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-2xl shadow-xl p-4 mb-6`}>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-2\">\n                <Coffee className=\"w-5 h-5 text-amber-600\" />\n                <span className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                  Coffee Collection ({filteredCoffees.length} coffees)\n                </span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={expandAllRoasters}\n                  className={`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                    darkMode \n                      ? 'bg-gray-700 hover:bg-gray-600 text-gray-200' \n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\n                  }`}\n                  title=\"Expand all roaster sections\"\n                >\n                  <ChevronUp className=\"w-4 h-4\" />\n                  <span>Expand All</span>\n                </button>\n                <button\n                  onClick={collapseAllRoasters}\n                  className={`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                    darkMode \n                      ? 'bg-gray-700 hover:bg-gray-600 text-gray-200' \n                      : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\n                  }`}\n                  title=\"Collapse all roaster sections\"\n                >\n                  <ChevronDown className=\"w-4 h-4\" />\n                  <span>Collapse All</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Coffee List */}\n        <div className=\"space-y-8\">\n          {(() => {\n            // First group by roaster, then by coffeeGroup for variations\n            const roasterGroups = filteredCoffees.reduce((roasters, coffee) => {\n              const roaster = coffee.roaster.split(' - ')[0] || coffee.roaster; // Get main roaster name\n              if (!roasters[roaster]) roasters[roaster] = [];\n              roasters[roaster].push(coffee);\n              return roasters;\n            }, {});\n            \n            // Sort roasters: favorites first, then alphabetically\n            const sortedRoasters = Object.entries(roasterGroups).sort(([roasterA, coffeesA], [roasterB, coffeesB]) => {\n              const avgRatingA = coffeesA.reduce((sum, c) => sum + c.tasteRating, 0) / coffeesA.length;\n              const avgRatingB = coffeesB.reduce((sum, c) => sum + c.tasteRating, 0) / coffeesB.length;\n              const favCountA = coffeesA.filter(c => c.favorite).length;\n              const favCountB = coffeesB.filter(c => c.favorite).length;\n              \n              // Sort by: 1) favorites count, 2) average rating, 3) alphabetically\n              if (favCountA !== favCountB) return favCountB - favCountA;\n              if (Math.abs(avgRatingA - avgRatingB) > 0.1) return avgRatingB - avgRatingA;\n              return roasterA.localeCompare(roasterB);\n            });\n            \n            return sortedRoasters.map(([roasterName, roasterCoffees]) => {\n              // Group coffees within this roaster by coffeeGroup for variations\n              const groupedCoffees = roasterCoffees.reduce((groups, coffee) => {\n                const group = coffee.coffeeGroup || `individual-${coffee.id}`;\n                if (!groups[group]) groups[group] = [];\n                groups[group].push(coffee);\n                return groups;\n              }, {});\n              \n              const avgRating = roasterCoffees.reduce((sum, c) => sum + c.tasteRating, 0) / roasterCoffees.length;\n              const favoriteCount = roasterCoffees.filter(c => c.favorite).length;\n              const isCollapsed = collapsedRoasters[roasterName];\n              \n              return (\n                <div key={roasterName} className=\"space-y-4\">\n                  {/* Roaster Header */}\n                  <div \n                    className={`${darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gradient-to-r from-amber-100 to-orange-100 hover:from-amber-200 hover:to-orange-200'} rounded-xl p-4 border-l-4 border-amber-500 cursor-pointer transition-colors`}\n                    onClick={() => toggleRoasterCollapse(roasterName)}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"flex items-center space-x-2\">\n                          {isCollapsed ? (\n                            <ChevronDown className={`w-5 h-5 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`} />\n                          ) : (\n                            <ChevronUp className={`w-5 h-5 ${darkMode ? 'text-gray-300' : 'text-gray-600'}`} />\n                          )}\n                          <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-800'}`}>\n                            ‚òï {roasterName}\n                          </h2>\n                        </div>\n                        <span className={`text-sm px-3 py-1 rounded-full font-medium ${darkMode ? 'bg-gray-600 text-gray-200' : 'bg-white text-gray-700'}`}>\n                          {roasterCoffees.length} coffee{roasterCoffees.length !== 1 ? 's' : ''}\n                        </span>\n                        {favoriteCount > 0 && (\n                          <span className={`text-sm px-3 py-1 rounded-full font-medium ${darkMode ? 'bg-yellow-900 text-yellow-100' : 'bg-yellow-100 text-yellow-800'}`}>\n                            ‚≠ê {favoriteCount} favorite{favoriteCount !== 1 ? 's' : ''}\n                          </span>\n                        )}\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                          Avg Rating:\n                        </span>\n                        <div className=\"flex items-center\">\n                          <StarRating rating={Math.round(avgRating)} readOnly size=\"small\" />\n                          <span className={`ml-1 text-sm font-semibold ${darkMode ? 'text-gray-200' : 'text-gray-700'}`}>\n                            {avgRating.toFixed(1)}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Coffees within this roaster - conditionally rendered */}\n                  {!isCollapsed && (\n                    <div className=\"grid gap-6 ml-4\">\n                      {Object.entries(groupedCoffees).map(([groupId, coffees]) => {\n              const isGrouped = coffees.length > 1 && !groupId.startsWith('individual-');\n              const mainCoffee = coffees[0]; // Use first coffee for shared information\n              \n              if (isGrouped) {\n                // Grouped coffee display: main card + variation sub-cards\n                return (\n                  <div key={groupId} className=\"space-y-4\">\n                    {/* Main coffee card with shared information */}\n                    <div className={`${darkMode ? 'bg-gray-800 text-white' : 'bg-white'} rounded-2xl shadow-xl p-6 border-l-4 border-blue-500`}>\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-3 mb-3\">\n                            <h3 className=\"text-xl font-bold\">{mainCoffee.roaster}</h3>\n                            <span className={`text-xs px-2 py-1 rounded-full font-medium ${darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-100 text-blue-800'}`}>\n                              üìä {coffees.length} preparations\n                            </span>\n                            {mainCoffee.roastLevel && (\n                              <span className={`text-xs px-2 py-1 rounded-full font-medium ${getRoastBadge(mainCoffee.roastLevel).bg} ${getRoastBadge(mainCoffee.roastLevel).text}`}>\n                                {getRoastBadge(mainCoffee.roastLevel).label}\n                              </span>\n                            )}\n                          </div>\n                          \n                          <p className={`${darkMode ? 'text-gray-300' : 'text-gray-600'} mb-4`}>{mainCoffee.description}</p>\n                          \n                          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\">\n                            <div className=\"flex items-center space-x-2\">\n                              <Percent className=\"w-4 h-4 text-gray-500\" />\n                              <span className=\"text-sm\">\n                                {mainCoffee.percentArabica}% Arabica / {mainCoffee.percentRobusta}% Robusta\n                              </span>\n                            </div>\n                            \n                            {mainCoffee.grindingDegree && (\n                              <div className=\"flex items-center space-x-2\">\n                                <span className=\"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded\">\n                                  Grinder Level: {mainCoffee.grindingDegree}\n                                </span>\n                              </div>\n                            )}\n                            \n                            {mainCoffee.price && (\n                              <div className=\"flex items-center space-x-2\">\n                                <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\n                                  {mainCoffee.price} {mainCoffee.currency || 'EUR'} / {mainCoffee.packageSize || 1000}g\n                                </span>\n                              </div>\n                            )}\n                          </div>\n\n                          {mainCoffee.origin && (\n                            <div className=\"mb-4\">\n                              <div className=\"flex flex-wrap items-center gap-1\">\n                                {mainCoffee.origin.split(',').map(code => {\n                                  const trimmedCode = code.trim();\n                                  const country = countryFlags[trimmedCode];\n                                  const isRegion = ['AS', 'LA', 'SA'].includes(trimmedCode);\n                                  \n                                  return (\n                                    <span \n                                      key={code} \n                                      className=\"inline-flex items-center\"\n                                      title={country ? country.name : trimmedCode}\n                                    >\n                                      {country && !isRegion ? (\n                                        <>\n                                          <span className=\"text-xl\">{country.flag}</span>\n                                          <span className=\"text-xs ml-1\">{trimmedCode}</span>\n                                        </>\n                                      ) : (\n                                        <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\n                                          {country ? country.name : trimmedCode}\n                                        </span>\n                                      )}\n                                    </span>\n                                  );\n                                })}\n                              </div>\n                            </div>\n                          )}\n                          \n                          {mainCoffee.price && (\n                            <div className=\"mb-4\">\n                              {(() => {\n                                const cost = calculateCostPerCup(mainCoffee);\n                                return cost && (\n                                  <div className=\"flex items-center space-x-4\">\n                                    <div className=\"text-sm\">\n                                      <span className={`${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Cost per cup: </span>\n                                      <span className=\"font-bold text-green-600\">\n                                        {cost.costPerCup} {cost.currency}\n                                      </span>\n                                    </div>\n                                    <div className=\"text-sm\">\n                                      <span className={`${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Price per kg: </span>\n                                      <span className=\"font-bold\">\n                                        {cost.pricePerKg} {cost.currency}\n                                      </span>\n                                    </div>\n                                  </div>\n                                );\n                              })()}\n                            </div>\n                          )}\n                          \n                          {(mainCoffee.comment || mainCoffee.url) && (\n                            <div className=\"space-y-2\">\n                              {mainCoffee.url && (\n                                <div className=\"flex items-center space-x-2\">\n                                  <ExternalLink className=\"w-4 h-4 text-blue-600\" />\n                                  <a \n                                    href={mainCoffee.url} \n                                    target=\"_blank\" \n                                    rel=\"noopener noreferrer\"\n                                    className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n                                  >\n                                    View Product Online\n                                  </a>\n                                </div>\n                              )}\n                              {mainCoffee.comment && (\n                                <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'} italic`}>{mainCoffee.comment}</p>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Variation sub-cards */}\n                    <div className=\"grid md:grid-cols-2 gap-4 ml-6\">\n                      {coffees.map((coffee) => (\n                        <div key={coffee.id} className={`${darkMode ? 'bg-gray-700 text-white' : 'bg-gray-50'} rounded-xl shadow-md p-4 border-l-4 ${coffee.preparationNotes?.includes('Pure espresso') ? 'border-amber-500' : 'border-green-500'}`}>\n                          <div className=\"flex items-start justify-between\">\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center space-x-2 mb-3\">\n                                <h4 className=\"text-lg font-semibold\">Preparation #{coffees.indexOf(coffee) + 1}</h4>\n                                {coffee.favorite && <Star className=\"w-4 h-4 text-yellow-400 fill-yellow-400\" />}\n                              </div>\n                              \n                              {coffee.preparationNotes && (\n                                <div className=\"mb-3\">\n                                  <span className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Method: </span>\n                                  <span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'} italic`}>{coffee.preparationNotes}</span>\n                                </div>\n                              )}\n                              \n                              <div className=\"grid grid-cols-2 gap-4 mb-3\">\n                                <div>\n                                  <span className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'} block mb-1`}>Crema</span>\n                                  <StarRating rating={coffee.cremaRating} readOnly />\n                                </div>\n                                <div>\n                                  <span className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'} block mb-1`}>Taste</span>\n                                  <StarRating rating={coffee.tasteRating} readOnly />\n                                </div>\n                              </div>\n                              \n                              {(() => {\n                                const valueScore = calculateValueScore(coffee);\n                                return valueScore && (\n                                  <div className=\"mb-3\">\n                                    <span className={`text-xs px-2 py-1 rounded ${darkMode ? 'bg-amber-900 text-amber-100' : 'bg-amber-100 text-amber-800'}`} title=\"Value Score: Taste Rating √∑ Cost per Cup. Higher = Better Value!\">\n                                      Value: {valueScore}\n                                    </span>\n                                  </div>\n                                );\n                              })()}\n                              \n                              <div className=\"text-xs text-gray-500\">\n                                Tasted: {new Date(coffee.cuppingTime).toLocaleDateString()}\n                              </div>\n                            </div>\n                            \n                            <div className=\"flex flex-col space-y-1 ml-2\">\n                              <button\n                                onClick={() => handleEdit(coffee)}\n                                className={`p-1.5 ${darkMode ? 'text-gray-400 hover:text-amber-400 hover:bg-gray-600' : 'text-gray-600 hover:text-amber-600 hover:bg-amber-50'} rounded transition-colors`}\n                                title=\"Edit preparation\"\n                              >\n                                <Edit3 className=\"w-3 h-3\" />\n                              </button>\n                              <button\n                                onClick={() => handleCopy(coffee)}\n                                className={`p-1.5 ${darkMode ? 'text-gray-400 hover:text-blue-400 hover:bg-gray-600' : 'text-gray-600 hover:text-blue-600 hover:bg-blue-50'} rounded transition-colors`}\n                                title=\"Copy for new preparation\"\n                              >\n                                <Copy className=\"w-3 h-3\" />\n                              </button>\n                              <button\n                                onClick={() => handleDelete(coffee.id)}\n                                className={`p-1.5 ${darkMode ? 'text-gray-400 hover:text-red-400 hover:bg-gray-600' : 'text-gray-600 hover:text-red-600 hover:bg-red-50'} rounded transition-colors`}\n                                title=\"Delete preparation\"\n                              >\n                                <Trash2 className=\"w-3 h-3\" />\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                );\n              } else {\n                // Individual coffee display (unchanged)\n                const coffee = mainCoffee;\n                return (\n            <div key={coffee.id} className={`${darkMode ? 'bg-gray-800 text-white' : 'bg-white'} rounded-2xl shadow-xl p-6 hover:shadow-2xl transition-all`}>\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-3 mb-3\">\n                    <h3 className=\"text-xl font-bold\">{coffee.roaster}</h3>\n                    {coffee.favorite && (\n                      <Star className=\"w-5 h-5 text-yellow-400 fill-yellow-400\" />\n                    )}\n                    {coffee.roastLevel && (\n                      <span className={`text-xs px-2 py-1 rounded-full font-medium ${getRoastBadge(coffee.roastLevel).bg} ${getRoastBadge(coffee.roastLevel).text}`}>\n                        {getRoastBadge(coffee.roastLevel).label}\n                      </span>\n                    )}\n                    {coffee.brewingMethod && (\n                      <span className={`text-xs px-2 py-1 rounded-full font-medium ${darkMode ? 'bg-blue-900 text-blue-100' : 'bg-blue-100 text-blue-800'}`} title=\"Your preferred method\">\n                        üë§ {brewingMethods.find(m => m.id === coffee.brewingMethod)?.icon} {brewingMethods.find(m => m.id === coffee.brewingMethod)?.name || coffee.brewingMethod}\n                      </span>\n                    )}\n                    {coffee.recommendedMethod && coffee.recommendedMethod !== coffee.brewingMethod && (\n                      <span className={`text-xs px-2 py-1 rounded-full font-medium ${darkMode ? 'bg-green-900 text-green-100' : 'bg-green-100 text-green-800'}`} title=\"Roaster's recommendation\">\n                        üè™ {brewingMethods.find(m => m.id === coffee.recommendedMethod)?.icon} {brewingMethods.find(m => m.id === coffee.recommendedMethod)?.name || coffee.recommendedMethod}\n                      </span>\n                    )}\n                  </div>\n                  \n                  <p className={`${darkMode ? 'text-gray-300' : 'text-gray-600'} mb-4`}>{coffee.description}</p>\n                  \n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Percent className=\"w-4 h-4 text-gray-500\" />\n                      <span className=\"text-sm\">\n                        {coffee.percentArabica}% Arabica / {coffee.percentRobusta}% Robusta\n                      </span>\n                    </div>\n                    \n                    {coffee.grindingDegree && (\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded\">\n                          Grinder Level: {coffee.grindingDegree}\n                        </span>\n                      </div>\n                    )}\n                    \n                    <div className=\"flex items-center space-x-2\">\n                      <Calendar className=\"w-4 h-4 text-gray-500\" />\n                      <span className=\"text-sm\">\n                        {new Date(coffee.cuppingTime).toLocaleDateString()}\n                      </span>\n                    </div>\n                    \n                    {coffee.price && (\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\n                          {coffee.price} {coffee.currency || 'EUR'} / {coffee.packageSize || 1000}g\n                        </span>\n                      </div>\n                    )}\n                  </div>\n\n                  {coffee.origin && (\n                    <div className=\"mb-4\">\n                      <div className=\"flex flex-wrap items-center gap-1\">\n                        {coffee.origin.split(',').map(code => {\n                          const trimmedCode = code.trim();\n                          const country = countryFlags[trimmedCode];\n                          const isRegion = ['AS', 'LA', 'SA'].includes(trimmedCode);\n                          \n                          return (\n                            <span \n                              key={code} \n                              className=\"inline-flex items-center\"\n                              title={country ? country.name : trimmedCode}\n                            >\n                              {country && !isRegion ? (\n                                <>\n                                  <span className=\"text-xl\">{country.flag}</span>\n                                  <span className=\"text-xs ml-1\">{trimmedCode}</span>\n                                </>\n                              ) : (\n                                <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded\">\n                                  {country ? country.name : trimmedCode}\n                                </span>\n                              )}\n                            </span>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  )}\n                  \n                  {coffee.tasteNotes && (\n                    <div className=\"mb-3\">\n                      <span className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Taste: </span>\n                      <span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>{coffee.tasteNotes}</span>\n                      <button\n                        onClick={() => setSelectedCoffeeForRadar(coffee)}\n                        className=\"ml-2 text-amber-600 hover:text-amber-700 text-sm\"\n                        title=\"Show flavor profile\"\n                      >\n                        <BarChart3 className=\"w-4 h-4 inline\" />\n                      </button>\n                    </div>\n                  )}\n                  \n                  {coffee.preparationNotes && (\n                    <div className=\"mb-3\">\n                      <span className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Preparation: </span>\n                      <span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'} italic`}>{coffee.preparationNotes}</span>\n                    </div>\n                  )}\n                  \n                  <div className=\"flex items-center space-x-6 mb-4\">\n                    <div>\n                      <span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'} block`}>Crema</span>\n                      <StarRating rating={coffee.cremaRating} readOnly />\n                    </div>\n                    <div>\n                      <span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'} block`}>Taste</span>\n                      <StarRating rating={coffee.tasteRating} readOnly />\n                    </div>\n                    {(() => {\n                      const cost = calculateCostPerCup(coffee);\n                      const valueScore = calculateValueScore(coffee);\n                      return cost && (\n                        <div>\n                          <span className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-500'} block`}>Cost/Cup</span>\n                          <div className=\"flex items-center space-x-2\">\n                            <span className=\"text-lg font-bold text-green-600\">\n                              {cost.costPerCup} {cost.currency}\n                            </span>\n                            {valueScore && (\n                              <span className={`text-xs px-2 py-1 rounded ${darkMode ? 'bg-amber-900 text-amber-100' : 'bg-amber-100 text-amber-800'}`} title=\"Value Score: Taste Rating √∑ Cost per Cup. Higher = Better Value!\">\n                                Value: {valueScore}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    })()}\n                  </div>\n                  \n                  {(coffee.comment || coffee.url) && (\n                    <div className=\"space-y-2\">\n                      {coffee.url && (\n                        <div className=\"flex items-center space-x-2\">\n                          <ExternalLink className=\"w-4 h-4 text-blue-600\" />\n                          <a \n                            href={coffee.url} \n                            target=\"_blank\" \n                            rel=\"noopener noreferrer\"\n                            className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n                          >\n                            View Product Online\n                          </a>\n                        </div>\n                      )}\n                      {coffee.comment && (\n                        <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'} italic`}>{coffee.comment}</p>\n                      )}\n                    </div>\n                  )}\n                </div>\n                \n                <div className=\"flex flex-col space-y-2 ml-4\">\n                  <button\n                    onClick={() => handleEdit(coffee)}\n                    className={`p-2 ${darkMode ? 'text-gray-400 hover:text-amber-400 hover:bg-gray-700' : 'text-gray-600 hover:text-amber-600 hover:bg-amber-50'} rounded-lg transition-colors`}\n                    title=\"Edit coffee\"\n                  >\n                    <Edit3 className=\"w-4 h-4\" />\n                  </button>\n                  <button\n                    onClick={() => handleCopy(coffee)}\n                    className={`p-2 ${darkMode ? 'text-gray-400 hover:text-blue-400 hover:bg-gray-700' : 'text-gray-600 hover:text-blue-600 hover:bg-blue-50'} rounded-lg transition-colors`}\n                    title=\"Copy for different preparation\"\n                  >\n                    <Copy className=\"w-4 h-4\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(coffee.id)}\n                    className={`p-2 ${darkMode ? 'text-gray-400 hover:text-red-400 hover:bg-gray-700' : 'text-gray-600 hover:text-red-600 hover:bg-red-50'} rounded-lg transition-colors`}\n                    title=\"Delete coffee\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n                );\n              }\n                      })}\n                    </div>\n                  )}\n                </div>\n              );\n            });\n          })()}\n        </div>\n\n        {filteredCoffees.length === 0 && (\n          <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-2xl shadow-xl p-12 text-center`}>\n            <Coffee className={`w-16 h-16 ${darkMode ? 'text-gray-600' : 'text-gray-300'} mx-auto mb-4`} />\n            <h3 className={`text-xl font-semibold ${darkMode ? 'text-gray-300' : 'text-gray-600'} mb-2`}>No coffees found</h3>\n            <p className={darkMode ? 'text-gray-400' : 'text-gray-500'}>\n              {searchTerm || filterFavorites ? 'Try adjusting your search or filters' : 'Add your first coffee to get started!'}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CoffeeTracker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}